on_ignored_nl class on_const on_op on_const on_op on_const on_op on_const on_nl UNK on_const on_nl UNK on_const on_op on_const on_nl on_ignored_nl on_const ## # This class encapsulates an HTML page. If Mechanize finds a content # type of 'text/html', this class will be instantiated and returned. # # Example: # # require 'mechanize' # # agent = Mechanize.new # agent.get('http://google.com/').class # => Mechanize::Page
on_ignored_nl UNK on_symbeg UNK on_nl on_ignored_nl def UNK on_lparen UNK on_op nil on_comma response on_op nil on_comma body on_op nil ## # Possible encodings for this page based on HTTP headers and meta elements
body on_period UNK on_lparen on_const on_op on_const on_rparen on_nl on_ignored_nl on_ivar on_period UNK self on_period class on_period UNK body on_nl # Force the encoding to be 8BIT so we can perform regular expressions. # We'll set it to the detected encoding later
on_ivar on_op nil on_nl end on_nl end on_nl on_ignored_nl encoding on_nl end on_nl on_ignored_nl def encoding on_nl parser on_period encoding # lazy reinitialize the parser with the new encoding
def UNK on_lparen parser on_op nil on_rparen on_ignored_nl parser on_op self on_period parser unless parser on_nl return UNK if parser # Return whether parser result has errors related to encoding or not. # false indicates just parser has no encoding errors, not encoding is vaild.
q on_period UNK on_lparen self on_rparen on_lbrace on_ignored_nl q on_period breakable on_nl q on_period group on_lparen on_int on_comma on_tstring_beg on_tstring_content # :nodoc:
on_ignored_nl def UNK on_nl on_ivar on_op nil on_nl on_ivar on_op nil on_nl on_ivar on_op nil on_nl on_ivar on_op nil on_nl # :nodoc:
def UNK on_nl link on_op UNK on_lparen on_tstring_beg on_tstring_content on_tstring_end on_rparen on_nl return unless link on_nl UNK on_op link on_lbracket # Return the canonical URI for the page if there is a link tag # with href="canonical".
def UNK on_nl on_ivar on_op response on_lbracket on_tstring_beg on_tstring_content on_tstring_end on_rbracket on_nl end on_nl on_ignored_nl on_ignored_nl on_ignored_nl on_ignored_nl on_ignored_nl on_ignored_nl # Get the content type
on_ignored_nl on_ignored_nl on_ignored_nl on_ignored_nl on_ignored_nl on_ignored_nl UNK on_symbeg parser on_comma on_symbeg search on_comma on_symbeg UNK on_comma on_symbeg UNK on_comma on_symbeg ## # :method: search # # Shorthand for +parser.search+. # # See Nokogiri::XML::Node#search for details.
on_ignored_nl on_ignored_nl on_ignored_nl on_ignored_nl on_ignored_nl UNK on_symbeg parser on_comma on_symbeg search on_comma on_symbeg UNK on_comma on_symbeg UNK on_comma on_symbeg UNK ## # :method: css # # Shorthand for +parser.css+. # # See also Nokogiri::XML::Node#css for details.
on_ignored_nl on_ignored_nl on_ignored_nl on_ignored_nl UNK on_symbeg parser on_comma on_symbeg search on_comma on_symbeg UNK on_comma on_symbeg UNK on_comma on_symbeg UNK on_comma ## # :method: xpath # # Shorthand for +parser.xpath+. # # See also Nokogiri::XML::Node#xpath for details.
on_ignored_nl on_ignored_nl on_ignored_nl UNK on_symbeg parser on_comma on_symbeg search on_comma on_symbeg UNK on_comma on_symbeg UNK on_comma on_symbeg UNK on_comma on_symbeg ## # :method: at # # Shorthand for +parser.at+. # # See also Nokogiri::XML::Node#at for details.
on_ignored_nl on_ignored_nl UNK on_symbeg parser on_comma on_symbeg search on_comma on_symbeg UNK on_comma on_symbeg UNK on_comma on_symbeg UNK on_comma on_symbeg UNK ## # :method: at_css # # Shorthand for +parser.at_css+. # # See also Nokogiri::XML::Node#at_css for details.
on_ignored_nl UNK on_symbeg parser on_comma on_symbeg search on_comma on_symbeg UNK on_comma on_symbeg UNK on_comma on_symbeg UNK on_comma on_symbeg UNK on_comma ## # :method: at_xpath # # Shorthand for +parser.at_xpath+. # # See also Nokogiri::XML::Node#at_xpath for details.
on_ignored_nl on_ignored_nl on_ignored_nl elements_with on_symbeg form on_nl on_ignored_nl on_ignored_nl on_ignored_nl on_ignored_nl elements_with on_symbeg link on_nl on_ignored_nl on_ignored_nl on_ignored_nl on_ignored_nl elements_with ## # :method: form_with # # :call-seq: # form_with(criteria) # form_with(criteria) { |form| ... } # # Find a single form matching +criteria+. See +forms_with+ for # details of +criteria+. # # Examples: # page.form_with(action: '/post/login.php') do |f| # ... # end
on_ignored_nl on_ignored_nl elements_with on_symbeg form on_nl on_ignored_nl on_ignored_nl on_ignored_nl on_ignored_nl elements_with on_symbeg link on_nl on_ignored_nl on_ignored_nl on_ignored_nl on_ignored_nl elements_with on_symbeg ## # :method: form_with!(criteria) # # :call-seq: # form_with!(criteria) # form_with!(criteria) { |form| ... } # # Same as +form_with+ but raises an ElementNotFoundError if no button matches # +criteria+
on_ignored_nl elements_with on_symbeg form on_nl on_ignored_nl on_ignored_nl on_ignored_nl on_ignored_nl elements_with on_symbeg link on_nl on_ignored_nl on_ignored_nl on_ignored_nl on_ignored_nl elements_with on_symbeg UNK ## # :method: forms_with # # :call-seq: # forms_with(name) # forms_with(name: name_matcher, id: id_matcher, class: class_matcher, # search: search_expression, xpath: xpath_expression, css: css_expression, # action: action_matcher, ...) # # Find all forms form matching criteria. If a string is given, it # is taken as a name attribute value. If a hash is given, forms # are narrowed by the key-value pairs as follows. # # :id, :dom_id: selects forms with a #dom_id value that matches this # value. # # :class, :dom_class: selects forms with a #dom_class value that # matches this value. Note that class attribute values are compared # literally as string, so forms_with(class: "a") does not match a # form with class="a b". Use forms_with(css: "form.a") instead. # # :search: only selects forms matching this selector expression. # # :xpath: only selects forms matching this XPath expression. # # :css: only selects forms matching this CSS selector expression. # # :action, :method, etc.: narrows forms by a given attribute value # using the === operator. # # Example: # page.forms_with(css: '#content table.login_box form', method: /\APOST\z/i, ).each do |f| # ... # end
on_ignored_nl on_ignored_nl on_ignored_nl elements_with on_symbeg link on_nl on_ignored_nl on_ignored_nl on_ignored_nl on_ignored_nl elements_with on_symbeg UNK on_nl on_ignored_nl on_ignored_nl on_ignored_nl on_ignored_nl elements_with ## # :method: link_with # # :call-seq: # link_with(criteria) # link_with(criteria) { |link| ... } # # Find a single link matching +criteria+. See +forms_with+ for # details of +criteria+, where for "form(s)" read "link(s)". # # Example: # page.link_with(href: /foo/).click
on_ignored_nl on_ignored_nl elements_with on_symbeg link on_nl on_ignored_nl on_ignored_nl on_ignored_nl on_ignored_nl elements_with on_symbeg UNK on_nl on_ignored_nl on_ignored_nl on_ignored_nl on_ignored_nl elements_with on_symbeg ## # :method: link_with! # # :call-seq: # link_with!(criteria) # link_with!(criteria) { |link| ... } # # Same as +link_with+ but raises an ElementNotFoundError if no button matches # +criteria+
on_ignored_nl elements_with on_symbeg link on_nl on_ignored_nl on_ignored_nl on_ignored_nl on_ignored_nl elements_with on_symbeg UNK on_nl on_ignored_nl on_ignored_nl on_ignored_nl on_ignored_nl elements_with on_symbeg UNK ## # :method: links_with # # :call-seq: # links_with(criteria) # # Find all links matching +criteria+. See +forms_with+ for details # of +criteria+, where for "form(s)" read "link(s)". # # Example: # page.links_with(href: /foo/).each do |link| # puts link.href # end
on_ignored_nl on_ignored_nl on_ignored_nl elements_with on_symbeg UNK on_nl on_ignored_nl on_ignored_nl on_ignored_nl on_ignored_nl elements_with on_symbeg UNK on_nl on_ignored_nl on_ignored_nl on_ignored_nl on_ignored_nl elements_with ## # :method: base_with # # :call-seq: # base_with(criteria) # base_with(criteria) { |base| ... } # # Find a single base tag matching +criteria+. See +forms_with+ for # details of +criteria+, where for "form(s)" read "base tag(s)". # # Example: # page.base_with(href: /foo/).click
on_ignored_nl on_ignored_nl elements_with on_symbeg UNK on_nl on_ignored_nl on_ignored_nl on_ignored_nl on_ignored_nl elements_with on_symbeg UNK on_nl on_ignored_nl on_ignored_nl on_ignored_nl on_ignored_nl elements_with on_symbeg ## # :method: base_with!(criteria) # # :call-seq: # base_with!(criteria) # base_with!(criteria) { |base| ... } # # Same as +base_with+ but raises an ElementNotFoundError if no button matches # +criteria+
on_ignored_nl elements_with on_symbeg UNK on_nl on_ignored_nl on_ignored_nl on_ignored_nl on_ignored_nl elements_with on_symbeg UNK on_nl on_ignored_nl on_ignored_nl on_ignored_nl on_ignored_nl elements_with on_symbeg UNK ## # :method: bases_with # # :call-seq: bases_with(criteria) # # Find all base tags matching +criteria+. See +forms_with+ for # details of +criteria+, where for "form(s)" read "base tag(s)". # # Example: # page.bases_with(href: /foo/).each do |base| # puts base.href # end
on_ignored_nl on_ignored_nl on_ignored_nl elements_with on_symbeg UNK on_nl on_ignored_nl on_ignored_nl on_ignored_nl on_ignored_nl elements_with on_symbeg UNK on_nl on_ignored_nl on_ignored_nl on_ignored_nl on_ignored_nl elements_with ## # :method: frame_with # # :call-seq: # frame_with(criteria) # frame_with(criteria) { |frame| ... } # # Find a single frame tag matching +criteria+. See +forms_with+ for # details of +criteria+, where for "form(s)" read "frame tag(s)". # # Example: # page.frame_with(src: /foo/).click
on_ignored_nl on_ignored_nl elements_with on_symbeg UNK on_nl on_ignored_nl on_ignored_nl on_ignored_nl on_ignored_nl elements_with on_symbeg UNK on_nl on_ignored_nl on_ignored_nl on_ignored_nl on_ignored_nl elements_with on_symbeg ## # :method: frame_with! # # :call-seq: # frame_with!(criteria) # frame_with!(criteria) { |frame| ... } # # Same as +frame_with+ but raises an ElementNotFoundError if no button matches # +criteria+
on_ignored_nl elements_with on_symbeg UNK on_nl on_ignored_nl on_ignored_nl on_ignored_nl on_ignored_nl elements_with on_symbeg UNK on_nl on_ignored_nl on_ignored_nl on_ignored_nl on_ignored_nl elements_with on_symbeg UNK ## # :method: frames_with # # :call-seq: frames_with(criteria) # # Find all frame tags matching +criteria+. See +forms_with+ for # details of +criteria+, where for "form(s)" read "frame tag(s)". # # Example: # page.frames_with(src: /foo/).each do |frame| # p frame.src # end
on_ignored_nl on_ignored_nl on_ignored_nl elements_with on_symbeg UNK on_nl on_ignored_nl on_ignored_nl on_ignored_nl on_ignored_nl elements_with on_symbeg UNK on_nl on_ignored_nl def UNK on_nl on_ivar ## # :method: iframe_with # # :call-seq: # iframe_with(criteria) # iframe_with(criteria) { |iframe| ... } # # Find a single iframe tag matching +criteria+. See +forms_with+ for # details of +criteria+, where for "form(s)" read "iframe tag(s)". # # Example: # page.iframe_with(src: /foo/).click
on_ignored_nl on_ignored_nl elements_with on_symbeg UNK on_nl on_ignored_nl on_ignored_nl on_ignored_nl on_ignored_nl elements_with on_symbeg UNK on_nl on_ignored_nl def UNK on_nl on_ivar on_op ## # :method: iframe_with! # # :call-seq: # iframe_with!(criteria) # iframe_with!(criteria) { |iframe| ... } # # Same as +iframe_with+ but raises an ElementNotFoundError if no button # matches +criteria+
on_ignored_nl elements_with on_symbeg UNK on_nl on_ignored_nl on_ignored_nl on_ignored_nl on_ignored_nl elements_with on_symbeg UNK on_nl on_ignored_nl def UNK on_nl on_ivar on_op UNK ## # :method: iframes_with # # :call-seq: iframes_with(criteria) # # Find all iframe tags matching +criteria+. See +forms_with+ for # details of +criteria+, where for "form(s)" read "iframe tag(s)". # # Example: # page.iframes_with(src: /foo/).each do |iframe| # p iframe.src # end
on_ignored_nl on_ignored_nl on_ignored_nl elements_with on_symbeg UNK on_nl on_ignored_nl def UNK on_nl on_ivar on_op UNK UNK on_tstring_content UNK on_tstring_content UNK on_tstring_end ## # :method: image_with # # :call-seq: # image_with(criteria) # image_with(criteria) { |image| ... } # # Find a single image matching +criteria+. See +forms_with+ for # details of +criteria+, where for "form(s)" read "image(s)". # # Example: # page.image_with(alt: /main/).fetch.save
on_ignored_nl on_ignored_nl elements_with on_symbeg UNK on_nl on_ignored_nl def UNK on_nl on_ivar on_op UNK UNK on_tstring_content UNK on_tstring_content UNK on_tstring_end on_period ## # :method: image_with! # # :call-seq: # image_with!(criteria) # image_with!(criteria) { |image| ... } # # Same as +image_with+ but raises an ElementNotFoundError if no button matches # +criteria+
on_ignored_nl elements_with on_symbeg UNK on_nl on_ignored_nl def UNK on_nl on_ivar on_op UNK UNK on_tstring_content UNK on_tstring_content UNK on_tstring_end on_period map ## # :method: images_with # # :call-seq: images_with(criteria) # # Find all images matching +criteria+. See +forms_with+ for # details of +criteria+, where for "form(s)" read "image(s)". # # Example: # page.images_with(src: /jpg\Z/).each do |img| # img.fetch.save # end
def UNK on_nl on_ivar on_op UNK UNK on_tstring_content UNK on_tstring_content UNK on_tstring_end on_period map do on_op UNK on_op on_ignored_nl search ## # Return a list of all link and area tags
def UNK on_nl on_ivar on_op search on_lparen on_tstring_beg on_tstring_content on_tstring_end on_rparen on_period map do on_op UNK on_op on_ignored_nl form on_op ## # Return a list of all form tags
on_ignored_nl def UNK on_nl UNK on_op on_ivar on_period UNK on_op on_symbeg UNK on_op on_tstring_beg on_tstring_content on_tstring_end on_op on_tstring_beg on_tstring_content on_tstring_end ## # Return a list of all meta refresh elements
def UNK on_nl on_ivar on_op on_ignored_nl search on_lparen on_tstring_beg on_tstring_content on_tstring_end on_rparen on_period map on_lbrace on_op node on_op on_const on_period ## # Return a list of all base tags
def UNK on_nl on_ivar on_op on_ignored_nl search on_lparen on_tstring_beg on_tstring_content on_tstring_end on_rparen on_period map on_lbrace on_op node on_op on_const on_period ## # Return a list of all frame tags
def UNK on_nl on_ivar on_op on_ignored_nl search on_lparen on_tstring_beg on_tstring_content on_tstring_end on_rparen on_period map on_lbrace on_op node on_op on_const on_period ## # Return a list of all iframe tags
def UNK on_nl on_ivar on_op on_ignored_nl search on_lparen on_tstring_beg on_tstring_content on_tstring_end on_rparen on_period map on_lbrace on_op node on_op on_const on_period ## # Return a list of all img tags
def UNK on_nl on_ivar on_op on_ignored_nl search on_lparen on_tstring_beg on_tstring_content on_tstring_end on_rparen on_period map on_lbrace on_op node on_op on_const on_period ## # Return a list of all label tags
on_ignored_nl def self on_period UNK body on_nl body on_period UNK on_lparen on_regexp_beg on_tstring_content on_regexp_end on_rparen on_period map do on_op meta ## # Retrieves all charsets from +meta+ tags in +body+
body on_period UNK on_lparen on_regexp_beg on_tstring_content on_regexp_end on_rparen on_period map do on_op meta on_op on_ignored_nl if meta on_op on_regexp_beg on_tstring_content # HACK use .map
on_ignored_nl def self on_period UNK body on_nl body on_period UNK on_lparen on_regexp_beg on_tstring_content on_regexp_end on_rparen on_period UNK on_period map do ## # Retrieves the last <tt>content-type</tt> set by a +meta+ tag in +body+
