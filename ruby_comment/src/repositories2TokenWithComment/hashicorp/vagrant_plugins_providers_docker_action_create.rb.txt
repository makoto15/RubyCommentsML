if env on_lbracket on_symbeg UNK on_rbracket on_op on_symbeg UNK on_nl params on_lbracket on_symbeg UNK on_rbracket on_op env on_lbracket on_symbeg UNK # If we're running a single command, we modify the params a bit
params on_lbracket on_symbeg UNK on_rbracket on_op env on_lbracket on_symbeg UNK on_rbracket on_nl on_ignored_nl params on_lbracket on_symbeg UNK on_rbracket on_op UNK # Use the command that is given to us
params on_lbracket on_symbeg UNK on_rbracket on_op UNK on_nl on_ignored_nl params on_lbracket on_symbeg UNK on_rbracket on_op on_lbracket on_rbracket on_nl on_ignored_nl params # Don't detach, we want to watch the command run
params on_lbracket on_symbeg UNK on_rbracket on_op on_lbracket on_rbracket on_nl on_ignored_nl params on_lbracket on_symbeg UNK on_rbracket on_op UNK if env on_lbracket # No ports should be shared to the host
params on_lbracket on_symbeg UNK on_rbracket on_op UNK if env on_lbracket on_symbeg UNK on_rbracket on_nl on_ignored_nl params on_lbracket on_symbeg UNK on_rbracket # Allocate a pty if it was requested
params on_lbracket on_symbeg UNK on_rbracket on_op UNK if env on_lbracket on_symbeg UNK on_rbracket on_nl on_ignored_nl params on_lbracket on_symbeg name on_rbracket # Remove container after execution
params on_lbracket on_symbeg name on_rbracket on_op on_tstring_beg on_embexpr_beg params on_lbracket on_symbeg name on_rbracket on_embexpr_end on_tstring_content on_embexpr_beg on_const on_period UNK on_period # Name should be unique
end on_nl on_ignored_nl env on_lbracket on_symbeg ui on_rbracket on_period UNK on_lparen on_const on_period UNK on_lparen on_tstring_beg on_tstring_content on_tstring_end on_rparen on_rparen # We link to our original container # TODO
UNK on_op on_ivar on_period UNK on_lparen params on_rparen on_nl env on_lbracket on_symbeg ui on_rbracket on_period detail on_lparen on_tstring_beg on_tstring_content on_tstring_end # For regular "ups" create it and get the CID
if env on_lbracket on_symbeg UNK on_rbracket on_nl UNK on_lbracket on_symbeg UNK on_rbracket on_op UNK on_nl UNK on_lbracket on_symbeg UNK on_rbracket # If we're running with a pty, we want the output to look as # authentic as possible. We don't prefix things and we don't # output a newline.
env on_lbracket on_symbeg ui on_rbracket on_period detail on_lparen on_tstring_beg on_tstring_content on_tstring_end on_op on_const on_period UNK on_lparen on_tstring_beg on_tstring_content on_tstring_end on_rparen # For run commands, we run it and stream back the output
UNK if options on_lbracket on_symbeg UNK on_rbracket on_op on_tstring_beg on_tstring_content on_tstring_end on_op on_op UNK on_nl on_ignored_nl UNK if options on_lbracket # Don't include SSH if we've explicitly asked not to
UNK if options on_lbracket on_symbeg UNK on_rbracket on_nl on_ignored_nl if options on_lbracket on_symbeg UNK on_rbracket on_op UNK on_nl UNK on_op # Skip port if it is disabled
if options on_lbracket on_symbeg UNK on_rbracket on_op UNK on_nl UNK on_op options on_lbracket on_symbeg UNK on_rbracket on_nl UNK on_nl end # If the guest port is 0, put it in the random group
UNK on_op UNK on_period UNK on_lparen on_op on_symbeg UNK on_rparen on_nl UNK on_op UNK on_period UNK on_period UNK do on_op # Build the results
