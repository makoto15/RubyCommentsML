on_const on_op on_const on_period UNK on_lparen on_symbeg UNK on_rparen on_period UNK on_symbeg rpm on_comma on_symbeg source on_op on_symbeg rpm on_comma # RPM packaging. Should work anywhere that has rpm installed.
UNK on_const on_op on_const on_op on_const on_nl on_ignored_nl UNK on_tstring_beg on_tstring_content on_tstring_end on_nl on_ignored_nl UNK on_symbeg UNK on_nl UNK on_symbeg # provides Rpm parsing and comparison
self on_op on_const on_op on_tstring_beg on_tstring_content on_tstring_end on_nl self on_op on_const on_op UNK on_tstring_content UNK on_nl self on_op on_const on_op # Note: self:: is required here to keep these constants in the context of what will # eventually become this Puppet::Type::Package::ProviderRpm class. # The query format by which we identify installed packages
def self on_period UNK on_nl on_tstring_beg on_tstring_content on_tstring_end unless on_const on_op on_const on_op on_const on_period UNK on_lparen UNK on_comma on_tstring_beg # rpm < 4.1 does not support --nosignature
def self on_period UNK on_nl on_tstring_beg on_tstring_content on_tstring_end unless on_const on_op on_const on_op on_const on_period UNK on_lparen UNK on_comma on_tstring_beg # rpm < 4.0.2 does not support --nodigest
UNK on_ignored_nl UNK on_lparen on_tstring_beg on_embexpr_beg UNK on_lparen on_symbeg rpm on_rparen on_embexpr_end on_tstring_content on_embexpr_beg UNK on_embexpr_end on_tstring_content on_embexpr_beg UNK on_embexpr_end # list out all of the packages
UNK on_lparen UNK on_rparen on_period UNK on_lbrace on_op hash on_op UNK on_op UNK on_lparen hash on_rparen on_rbrace on_nl on_rbrace on_nl # now turn each returned line into a package object
def UNK on_nl cmd on_op on_lbracket on_tstring_beg on_tstring_content on_tstring_end on_comma on_ivar on_lbracket on_symbeg name on_rbracket on_comma on_tstring_beg on_embexpr_beg self on_period # Find the fully versioned package name and the version alone. Returns # a hash with entries :instance => fully versioned package name, and # :ensure => version-release
cmd on_op on_lbracket on_tstring_beg on_tstring_content on_tstring_end on_comma on_ivar on_lbracket on_symbeg name on_rbracket on_comma on_tstring_beg on_embexpr_beg self on_period class on_period UNK #NOTE: Prior to a fix for issue 1243, this method potentially returned a cached value #IF YOU CALL THIS METHOD, IT WILL CALL RPM #Use get(:property) to check if cached values are available
cmd on_op on_tstring_beg on_tstring_content on_tstring_end on_nl UNK on_ignored_nl UNK on_op rpm on_lparen on_op cmd on_rparen on_nl UNK on_const on_op on_const # rpm -q exits 1 if package not found # retry the query for virtual packages
return UNK on_nl end on_nl end on_nl on_ivar on_period UNK on_lparen self on_period class on_period UNK on_lparen UNK on_rparen on_rparen # couldn't find a virtual package either
def UNK on_nl source on_op on_ivar on_lbracket on_symbeg source on_rbracket on_nl unless source on_nl on_ivar on_period UNK UNK on_lparen on_tstring_beg # Here we just retrieve the version from the file specified in the source.
return if on_ivar on_period UNK on_lparen on_symbeg ensure on_rparen on_op version on_op on_lparen on_ivar on_period UNK on_lparen on_symbeg ensure on_rparen # RPM gets upset if you try to install an already installed package
name on_op UNK on_lparen on_symbeg name on_rparen on_nl version on_op UNK on_lparen on_symbeg version on_rparen on_nl UNK on_op UNK on_lparen # If version and release (or only version) is specified in the resource, # uninstall using them, otherwise uninstall using only the name of the package.
unless on_const on_op on_const on_op on_const on_period UNK on_lparen self on_period class on_period UNK on_comma on_tstring_beg on_tstring_content on_tstring_end on_rparen on_op # If an arch is specified in the resource, uninstall that arch, # otherwise uninstall the arch returned by query. # If multiple arches are installed and arch is not specified, # this will uninstall all of them after successive runs. # # rpm prior to 4.2.1 cannot accept architecture as part of the package name.
def self on_period UNK on_lparen line on_rparen on_ignored_nl line on_period UNK on_nl hash on_op on_lbrace on_rbrace on_nl on_ignored_nl UNK on_op # @param line [String] one line of rpm package query information # @return [Hash] of NEVRA_FIELDS strings parsed from package info # or an empty hash if we failed to parse # @api private
def self on_period UNK on_lparen UNK on_rparen on_ignored_nl list on_op on_lbracket on_rbracket on_nl multiversion_hash on_op on_lbrace on_rbrace on_nl UNK on_period # @param line [String] multiple lines of rpm package query information # @return list of [Hash] of NEVRA_FIELDS strings parsed from package info # or an empty list if we failed to parse # @api private
