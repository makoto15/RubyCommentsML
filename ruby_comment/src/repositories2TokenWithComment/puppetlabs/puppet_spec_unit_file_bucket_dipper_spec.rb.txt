expect_any_instance_of on_lparen UNK on_rparen on_period to receive on_lparen on_symbeg find on_rparen on_lbrace on_op UNK on_comma r on_op request on_op r # With the *_any_instance_of form of using a block on receive, the # first argument to the block is which instance is currently being # dealt with, and the remaining arguments are the arguments to the # method, instead of the block only getting the arguments to the # method.
expect on_lbrace on_ivar on_period diff on_lparen wrong_checksum on_comma on_tstring_beg on_tstring_content on_tstring_end on_comma nil on_comma nil on_rparen on_rbrace on_period to raise_error # First checksum fails
expect on_lbrace on_ivar on_period diff on_lparen checksum on_comma wrong_checksum on_comma nil on_comma nil on_rparen on_rbrace on_period to raise_error on_lparen on_const #Diff_with checksum fails
if on_const on_period UNK on_lparen on_symbeg UNK on_rparen on_op on_tstring_beg on_tstring_content on_tstring_end on_op on_ignored_nl on_const on_op on_const on_op on_const on_period # Diff without the context # Lines we need to see match 'Content' instead of trimming diff output filter out # surrounding noise...or hard code the check values
diff12 on_op on_const on_op on_const on_op on_const on_period UNK on_lparen on_tstring_beg on_tstring_content on_embexpr_beg file1 on_embexpr_end on_tstring_content on_embexpr_beg file2 on_embexpr_end on_tstring_content # Use gdiff on Solaris
expect on_lbrace on_ivar on_period diff on_lparen wrong_checksum on_comma on_tstring_beg on_tstring_content on_tstring_end on_comma nil on_comma nil on_rparen on_rbrace on_period to raise_error # First checksum fails
expect on_lbrace on_ivar on_period diff on_lparen checksum on_comma wrong_checksum on_comma nil on_comma nil on_rparen on_rbrace on_period to raise_error on_lparen on_const # Diff_with checksum fails
file1 on_op make_tmp_file on_lparen plaintext on_rparen on_nl real_path on_op on_const on_period new on_lparen file1 on_rparen on_period realpath on_nl expect on_lparen #First File
content on_op on_tstring_beg on_tstring_content on_tstring_end on_nl file2 on_op make_tmp_file on_lparen content on_rparen on_nl real_path on_op on_const on_period new on_lparen file2 #Second File
UNK on_op make_tmp_file on_lparen plaintext on_rparen on_nl real_path on_op on_const on_period new on_lparen UNK on_rparen on_period realpath on_nl checksum on_op #Third file : Same as the first one with a different path
on_ivar on_op on_const on_op on_const on_op on_const on_period new on_lparen on_symbeg on_const on_op file_bucket on_rparen on_nl file1 on_op make_tmp_file on_lparen # First File created now
content on_op on_tstring_beg on_tstring_content on_tstring_end on_nl file2 on_op make_tmp_file on_lparen content on_rparen on_nl real_path on_op on_const on_period new on_lparen file2 # Second File created an hour ago
UNK on_op on_const on_period now on_op UNK on_nl UNK on_op on_const on_period UNK on_lparen on_tstring_beg on_embexpr_beg file_bucket on_embexpr_end on_tstring_content on_embexpr_beg # Modify mtime of the second file to be an hour ago
expect on_lparen on_ivar on_period list on_lparen on_lparen now on_op UNK on_rparen on_period strftime on_lparen on_tstring_beg on_tstring_content on_tstring_end on_rparen on_comma nil #Future
expect on_lparen on_ivar on_period list on_lparen nil on_comma on_lparen now on_op twohours on_rparen on_period strftime on_lparen on_tstring_beg on_tstring_content on_tstring_end on_rparen #Epoch -> Future = Everything (Sorted (desc) by date)
expect on_lparen on_ivar on_period list on_lparen on_lparen now on_op on_int on_rparen on_period strftime on_lparen on_tstring_beg on_tstring_content on_tstring_end on_rparen on_comma on_lparen #Now+1sec -> Future = Nothing
expect on_lparen on_ivar on_period list on_lparen on_lparen now on_op thirtyminutes on_rparen on_period strftime on_lparen on_tstring_beg on_tstring_content on_tstring_end on_rparen on_comma on_lparen #Now-30mins -> Now-20mins = Nothing
expect on_lparen on_ivar on_period list on_lparen on_lparen now on_op twohours on_rparen on_period strftime on_lparen on_tstring_beg on_tstring_content on_tstring_end on_rparen on_comma on_lparen #Now-2hours -> Now-30mins = Second file only
expect on_lparen on_ivar on_period list on_lparen on_lparen now on_op thirtyminutes on_rparen on_period strftime on_lparen on_tstring_beg on_tstring_content on_tstring_end on_rparen on_comma now #Now-30minutes -> Now = First file only
