expect on_lparen on_ivar on_rparen on_period to receive on_lparen on_symbeg UNK on_rparen on_period and_return on_lparen on_lbracket on_tstring_beg on_tstring_content on_embexpr_beg i on_embexpr_end # since the deprecation warning will only log each offending line once, we have to do some tomfoolery # here in order to make it think each of these calls is coming from a unique call stack; we're basically # mocking the method that it would normally use to find the call stack.
expect on_lparen on_ivar on_period UNK on_lparen UNK on_rparen on_rparen on_period to match on_lparen on_regexp_beg on_tstring_content on_regexp_end on_rparen on_nl end on_nl # whoa ugly
allow on_lparen on_const on_rparen on_period to receive on_lparen on_symbeg respond_to? on_rparen on_period and_call_original on_lparen on_rparen on_nl allow on_lparen on_const on_rparen # Unstub these calls as there is global code run after # each spec that may reset the log level to debug
UNK level on_nl when on_symbeg trace on_nl level on_op on_symbeg debug on_nl when on_symbeg UNK on_nl level on_op on_symbeg warning # Transform from Facter level to Puppet level
