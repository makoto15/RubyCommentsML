UNK on_op on_lbracket UNK on_comma destdir on_comma UNK on_lparen UNK on_rparen on_rbracket on_nl UNK on_op on_const on_op on_const on_period UNK # puppet doesn't have a hard dependency on minitar, so we # can't be certain which version is installed. If it's 0.9 # or above then we can prevent minitar from fsync'ing each # extracted file and directory, otherwise fallback to the # old behavior
UNK on_lparen destdir on_comma name on_rparen on_nl UNK on_lparen stats on_rparen on_nl on_const on_period UNK on_lparen UNK on_tstring_content on_embexpr_beg destdir # Octal string of the old file mode.
end on_nl end on_nl end on_nl on_ignored_nl UNK on_nl on_ignored_nl on_const on_op on_int on_nl on_const on_op on_int on_nl on_const on_op # TODO smcclellan 2017-10-31 Set permissions here when this yield block # executes before the header is written. As it stands, the `stats` # argument isn't mutable in a way that will effect the desired mode for # the file.
stats on_lbracket on_symbeg UNK on_rbracket on_op on_const on_nl UNK stats on_period UNK on_lparen on_symbeg entry on_rparen on_nl old_mode on_op stats # This is only the case for `pack`, so this code will not run.
def UNK on_lparen old_mode on_rparen on_ignored_nl old_mode on_op on_const on_op on_int on_op on_const on_op on_const on_nl end on_nl on_ignored_nl def # Sets a file mode to 0755 if the file is executable by the user. # Sets a file mode to 0644 if the file mode is set (non-Windows).
stats on_lbracket on_symbeg UNK on_rbracket on_op UNK on_lparen stats on_lbracket on_symbeg UNK on_rbracket on_rparen on_nl UNK stats on_period UNK on_lparen # This is only the case for `pack`, so this code will not run.
if old_mode on_period UNK on_lparen on_const on_rparen on_nl UNK on_op UNK on_lparen old_mode on_rparen on_nl stats on_lbracket on_symbeg entry on_rbracket # If the user can execute the file, set 0755, otherwise 0644.
def UNK on_lparen stats on_rparen on_ignored_nl stats on_lbracket on_symbeg UNK on_rbracket on_op on_int on_nl stats on_lbracket on_symbeg UNK on_rbracket on_op # Sets UID and GID to 0 for standardization.
def UNK on_lparen UNK on_rparen on_ignored_nl on_const on_op on_const on_op on_const on_period UNK on_lparen UNK on_rparen on_period UNK UNK on_op # Find all the valid files in tarfile. # # This check was mainly added to ignore 'x' and 'g' flags from the PAX # standard but will also ignore any other non-standard tar flags. # tar format info: https://pic.dhe.ibm.com/infocenter/zos/v1r13/index.jsp?topic=%2Fcom.ibm.zos.r13.bpxa500%2Ftaf.htm # pax format info: https://pic.dhe.ibm.com/infocenter/zos/v1r13/index.jsp?topic=%2Fcom.ibm.zos.r13.bpxa500%2Fpxarchfm.htm
