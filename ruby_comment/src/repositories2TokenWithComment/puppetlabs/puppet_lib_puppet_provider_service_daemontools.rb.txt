on_const on_op on_const on_period UNK on_lparen on_symbeg service on_rparen on_period UNK on_symbeg UNK on_comma on_symbeg UNK on_op on_symbeg UNK UNK # Daemontools service management # # author Brice Figureau <brice-puppet@daysofwonder.com>
def UNK on_nl on_ivar on_op on_lbracket on_tstring_beg on_tstring_content on_tstring_end on_comma on_tstring_beg on_tstring_content on_tstring_end on_rbracket on_period UNK UNK on_op path on_op # Determine the daemon path.
def self on_period UNK on_nl path on_op self on_period UNK on_nl unless path on_nl on_const on_period UNK on_lparen on_tstring_beg on_embexpr_beg # returns all providers for all existing services in @defpath # ie enabled or not
on_const on_period UNK on_lparen path on_rparen on_period UNK UNK on_op UNK on_op on_ignored_nl UNK on_op on_const on_period UNK on_lparen path # reject entries that aren't either a directory # or don't contain a run file
def self on_period UNK on_nl self on_period UNK on_nl end on_nl on_ignored_nl def UNK on_nl unless on_ivar on_nl on_lbracket on_tstring_beg # returns the daemon dir on this node
def UNK on_nl unless on_ivar on_nl on_lbracket on_tstring_beg on_tstring_content on_tstring_end on_comma on_tstring_beg on_tstring_content on_tstring_end on_comma on_tstring_beg on_tstring_content on_tstring_end on_rbracket on_period # find the service dir on this node
def service on_nl on_const on_period UNK on_lparen self on_period UNK on_comma resource on_lbracket on_symbeg name on_rbracket on_rparen on_nl end on_nl # returns the full path of this service when enabled # (ie in the service directory)
def daemon on_nl path on_op resource on_lbracket on_symbeg path on_rbracket on_nl raise on_const on_op on_const on_period new on_lparen on_tstring_beg on_embexpr_beg # returns the full path to the current daemon directory # note that this path can be overridden in the resource # definition
UNK on_lparen on_tstring_beg on_embexpr_beg UNK on_embexpr_end on_tstring_end on_rparen on_nl end on_nl UNK on_const on_op on_const on_op detail on_nl raise on_const #texecute("setupservice", command)
UNK on_symbeg UNK on_nl UNK on_ignored_nl UNK on_const on_op on_const on_period UNK on_lparen self on_period service on_rparen on_op on_symbeg UNK # obviously if the daemon is running then it is enabled
UNK on_const on_op on_const on_period UNK on_lparen self on_period service on_rparen on_op on_symbeg UNK on_op on_symbeg UNK on_nl end on_nl # the service is enabled if it is linked
