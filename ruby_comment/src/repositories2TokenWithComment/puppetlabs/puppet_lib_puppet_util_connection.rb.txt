on_ignored_nl UNK UNK on_period UNK on_lparen setting on_rparen on_ignored_nl UNK setting on_op setting on_op on_symbeg server on_op on_const on_period settings # The logic for server and port is kind of gross. In summary: # IF an endpoint-specific setting is requested AND that setting has been set by the user # Use that setting. # The defaults for these settings are the "normal" server/masterport settings, so # when they are unset we instead want to "fall back" to the failover-selected # host/port pair. # ELSE IF we have a failover-selected host/port # Use what the failover logic came up with # ELSE IF the server_list setting is in use # Use the first entry - failover hasn't happened yet, but that # setting is still authoritative # ELSE # Go for the legacy server/masterport settings, and hope for the best
UNK UNK on_period UNK on_lparen setting on_rparen on_ignored_nl UNK setting on_op setting on_op on_symbeg server on_op on_const on_period settings on_period # Determines which server to use based on the specified setting, taking into # account HA fallback from server_list. # @param [Symbol] setting The preferred server setting to use # @return [String] the name of the server for use in the request
debug_once _ on_lparen on_tstring_beg on_tstring_content on_tstring_end on_rparen on_op on_lbrace on_label primary_server on_lbracket on_int on_rbracket on_rbrace on_nl primary_server on_lbracket on_int on_rbracket #TRANSLATORS 'server_list' is the name of a setting and should not be translated
UNK UNK on_period UNK on_lparen port_setting UNK UNK on_rparen on_ignored_nl UNK on_lparen port_setting on_op port_setting on_op on_symbeg UNK on_op on_const # Determines which port to use based on the specified setting, taking into # account HA fallback from server_list. # For port there's a little bit of an extra snag: setting a specific # server setting and relying on the default port for that server is # common, so we also want to check if the assocaited SERVER setting # has been set by the user. If either of those are set we ignore the # failover-selected port. # @param [Symbol] port_setting The preferred port setting to use # @param [Symbol] server_setting The server setting assoicated with this route. # @return [Integer] the port to use for use in the request
UNK primary_server on_lbracket on_int on_rbracket on_nl debug_once _ on_lparen on_tstring_beg on_tstring_content on_tstring_end on_rparen on_op on_lbrace on_label primary_server on_lbracket on_int on_rbracket # Port might not be set, so we want to fallback in that # case. We know we don't need to use `setting` here, since # the default value of every port setting is `masterport`
debug_once _ on_lparen on_tstring_beg on_tstring_content on_tstring_end on_rparen on_op on_lbrace on_label primary_server on_lbracket on_int on_rbracket on_rbrace on_nl primary_server on_lbracket on_int on_rbracket #TRANSLATORS 'server_list' is the name of a setting and should not be translated
debug_once _ on_lparen on_tstring_beg on_tstring_content on_tstring_end on_rparen on_op on_lbrace on_label on_const on_period settings on_lbracket on_symbeg UNK on_rbracket on_rbrace on_nl on_const #TRANSLATORS 'masterport' is the name of a setting and should not be translated
