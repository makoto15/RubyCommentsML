on_ignored_nl UNK on_tstring_beg on_tstring_content on_tstring_end do on_ignored_nl include on_const on_op on_const on_nl include on_const on_op on_const on_nl UNK on_lparen on_symbeg # relative to this spec file (./) does not work as this file is loaded by rspec #require File.join(File.dirname(__FILE__), '/evaluator_rspec_helper')
on_ivar on_op on_const on_op on_const on_op on_const on_op on_const on_period new on_nl on_ivar on_op on_const on_op on_const on_period new on_lparen # Tests needs a known configuration of node/scope/compiler since it parses and evaluates # snippets as the compiler will evaluate them, butwithout the overhead of compiling a complete # catalog for each tested expression. #
on_tstring_beg on_tstring_content on_tstring_end on_op true on_comma on_ignored_nl on_tstring_beg on_tstring_content on_tstring_end on_op true on_comma on_ignored_nl on_tstring_beg on_tstring_content on_tstring_end on_op true on_comma # String is not subtype of Regexp. PUP-957
on_tstring_beg on_tstring_content on_tstring_end on_op true on_comma on_ignored_nl on_tstring_beg on_tstring_content on_tstring_end on_op false on_comma on_tstring_beg on_tstring_content on_tstring_end on_op true on_comma on_ignored_nl # FILE is a type, not a String
on_tstring_beg on_tstring_content on_tstring_end on_op true on_comma on_ignored_nl on_tstring_beg on_tstring_content on_tstring_end on_op false on_comma on_ignored_nl on_tstring_beg on_tstring_content on_tstring_end on_op true on_comma # Philosophically true though :-)
on_tstring_beg on_tstring_content on_tstring_end on_op on_lbracket on_tstring_beg on_tstring_content on_tstring_end on_comma on_tstring_beg on_tstring_content on_tstring_end on_comma on_tstring_beg on_tstring_content on_tstring_end on_comma on_tstring_beg on_tstring_content on_tstring_end # Note, Data > Collection is false (so not included)
on_ignored_nl context on_tstring_beg on_tstring_content on_tstring_end do on_ignored_nl on_lbrace on_ignored_nl on_tstring_beg on_tstring_content on_tstring_end on_op on_int on_comma on_ignored_nl on_tstring_beg on_tstring_content on_tstring_end on_op # arithmetic
on_tstring_beg on_tstring_content on_tstring_end on_op on_tstring_beg on_tstring_content on_tstring_end on_comma on_ignored_nl on_ignored_nl on_tstring_beg on_tstring_content on_tstring_end on_op on_tstring_beg on_tstring_content on_tstring_end on_comma on_ignored_nl on_ignored_nl # supports unfold
on_lbrace on_ignored_nl on_tstring_beg on_tstring_content on_tstring_end on_op types on_period UNK on_lparen types on_period integer on_rparen on_comma on_ignored_nl on_tstring_beg on_tstring_content on_tstring_end on_op # Type operations (full set tested by tests covering type calculator)
on_lbrace on_ignored_nl on_tstring_beg on_tstring_content on_tstring_end on_op on_symbeg error on_comma on_ignored_nl on_tstring_beg on_tstring_content on_tstring_end on_op on_symbeg error on_comma on_ignored_nl on_tstring_beg on_tstring_content # LHS where [] not supported, and missing key(s)
UNK on_op on_int on_period UNK on_period UNK on_nl on_ignored_nl on_lbrace on_ignored_nl on_tstring_beg on_tstring_content on_tstring_end on_op on_tstring_beg on_tstring_content on_embexpr_beg UNK on_embexpr_end # Integer for >= 2.4.0, otherwise Fixnum
on_lbrace on_ignored_nl on_tstring_beg on_tstring_content on_tstring_end on_op on_tstring_beg on_tstring_content on_embexpr_beg UNK on_embexpr_end on_tstring_end on_comma on_ignored_nl on_tstring_beg on_tstring_content on_tstring_end on_op on_tstring_beg on_tstring_content # Errors when wrong number/type of keys are used
UNK on_op on_const on_op on_const on_op on_const on_period new on_nl UNK on_period UNK on_op __file__ on_nl UNK on_op UNK on_period # This is more complicated since it needs to run like 3.x and do an import_ast
on_lbrace on_ignored_nl on_tstring_beg on_tstring_content on_tstring_end on_op on_tstring_beg on_tstring_content on_tstring_end on_comma on_ignored_nl on_tstring_beg on_tstring_content on_tstring_end on_op on_tstring_beg on_tstring_content on_tstring_end on_comma on_ignored_nl # Resource default and override expressions and resource parameter access with []
on_tstring_beg on_tstring_content on_tstring_end on_op on_tstring_beg on_tstring_content on_tstring_end on_comma on_ignored_nl on_tstring_beg on_tstring_content on_tstring_end on_op on_tstring_beg on_tstring_content on_tstring_end on_comma on_ignored_nl on_tstring_beg on_tstring_content # Properties
on_tstring_beg on_tstring_content on_tstring_end on_op on_tstring_beg on_tstring_content on_tstring_end on_comma on_ignored_nl on_tstring_beg on_tstring_content on_tstring_end on_op on_tstring_beg on_tstring_content on_tstring_end on_comma on_ignored_nl on_tstring_beg on_tstring_content # Parameters
on_tstring_beg on_tstring_content on_tstring_end on_op on_tstring_beg on_tstring_content on_tstring_end on_comma on_ignored_nl on_tstring_beg on_tstring_content on_tstring_end on_op nil on_comma on_ignored_nl on_tstring_beg on_tstring_content on_tstring_end on_op # Metaparameters
on_tstring_beg on_tstring_content on_tstring_end on_op nil on_comma on_ignored_nl on_tstring_beg on_tstring_content on_tstring_end on_op on_tstring_beg on_tstring_content on_tstring_end on_comma on_ignored_nl on_tstring_beg on_tstring_content on_tstring_end on_op # Does not produce the defaults for tag parameter (title, type or names of scopes)
on_tstring_beg on_tstring_content on_tstring_end on_op on_tstring_beg on_tstring_content on_tstring_end on_comma on_ignored_nl on_tstring_beg on_tstring_content on_tstring_end on_op on_tstring_beg on_tstring_content on_tstring_end on_comma on_ignored_nl on_rbrace on_period # But a default may be specified on the type
on_lbrace on_ignored_nl on_tstring_beg on_tstring_content on_tstring_end on_op on_tstring_beg on_tstring_content on_tstring_end on_comma on_ignored_nl on_tstring_beg on_tstring_content on_tstring_end on_op on_tstring_beg on_tstring_content on_tstring_end on_comma on_ignored_nl # Virtual and realized resource default and overridden resource parameter access with []
on_tstring_beg on_tstring_content on_tstring_end on_op on_tstring_beg on_tstring_content on_tstring_end on_comma on_ignored_nl on_tstring_beg on_tstring_content on_tstring_end on_op on_tstring_beg on_tstring_content on_tstring_end on_comma on_ignored_nl on_tstring_beg on_tstring_content # Properties
on_tstring_beg on_tstring_content on_tstring_end on_op on_tstring_beg on_tstring_content on_tstring_end on_comma on_ignored_nl on_tstring_beg on_tstring_content on_tstring_end on_op on_tstring_beg on_tstring_content on_tstring_end on_comma on_ignored_nl on_tstring_beg on_tstring_content # Parameters
on_tstring_beg on_tstring_content on_tstring_end on_op on_tstring_beg on_tstring_content on_tstring_end on_comma on_ignored_nl on_rbrace on_period each do on_op source on_comma result on_op on_ignored_nl it # Metaparameters
on_lbrace on_ignored_nl on_tstring_beg on_tstring_content on_tstring_end on_op on_tstring_beg on_tstring_content on_tstring_end on_comma on_ignored_nl on_tstring_beg on_tstring_content on_tstring_end on_op on_tstring_beg on_tstring_content on_tstring_end on_comma on_ignored_nl # Exported resource attributes
on_lbrace on_ignored_nl on_tstring_beg on_tstring_content on_tstring_end on_op on_regexp_beg on_tstring_content on_regexp_end on_comma on_ignored_nl on_tstring_beg on_tstring_content on_tstring_end on_op on_regexp_beg on_tstring_content on_regexp_end on_comma on_ignored_nl # Resource default and override expressions and resource parameter access error conditions
on_tstring_beg on_tstring_content on_tstring_end on_op on_regexp_beg on_tstring_content on_regexp_end on_comma on_ignored_nl on_tstring_beg on_tstring_content on_tstring_end on_op on_regexp_beg on_tstring_content on_regexp_end on_comma on_ignored_nl on_tstring_beg on_tstring_content # NOTE: these meta-esque parameters are not recognized as such
end on_nl on_ignored_nl context on_tstring_beg on_tstring_content on_tstring_end do on_ignored_nl on_lbrace on_ignored_nl on_tstring_beg on_tstring_content on_tstring_end on_op true on_comma on_ignored_nl on_tstring_beg on_tstring_content # end [] operations
on_tstring_beg on_tstring_content on_tstring_end on_op on_tstring_beg on_tstring_content on_tstring_end on_comma on_ignored_nl on_tstring_beg on_tstring_content on_tstring_end on_op on_tstring_beg on_tstring_content on_tstring_end on_comma on_ignored_nl on_tstring_beg on_tstring_content # unfolds
UNK on_op on_lbracket on_tstring_beg on_tstring_content on_tstring_end on_comma on_tstring_beg on_tstring_content on_tstring_end on_rbracket on_nl UNK on_nl UNK on_op parser on_period evaluate_string on_lparen # This test requires testing against two options because a hash to string # produces a result that is unordered
scope on_lbracket on_tstring_beg on_tstring_content on_tstring_end on_rbracket on_op on_const on_op on_const on_op on_const on_period new on_lparen on_tstring_beg on_tstring_content on_tstring_end on_comma on_tstring_beg # Create a 3.x resource since this is the value given as arguments to defined type
expect on_lbrace parser on_period evaluate_string on_lparen scope on_comma source on_rparen on_rbrace on_period to raise_error on_lparen on_regexp_beg on_tstring_content on_regexp_end on_rparen on_nl # Error references position 5 at the opening '{' # Set file to nil to make it easier to match with line number (no file name in output)
expect on_lbrace parser on_period evaluate_string on_lparen scope on_comma source on_rparen on_rbrace on_period to raise_error on_lparen on_ignored_nl on_regexp_beg on_tstring_content on_regexp_end on_rparen # Error references position 5 at the opening '{' # Set file to nil to make it easier to match with line number (no file name in output)
expect on_lbrace parser on_period parse_string on_lparen source on_rparen on_rbrace on_period to raise_error on_lparen on_regexp_beg on_tstring_content on_regexp_end on_rparen on_nl end on_nl # first char after opening " reported as being in error.
