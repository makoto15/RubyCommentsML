on_ignored_nl temp_file_name on_op on_tstring_beg on_tstring_content on_tstring_end on_nl UNK on_op on_tstring_beg on_tstring_content on_tstring_end on_nl on_ignored_nl on_ignored_nl UNK on_tstring_beg on_tstring_content on_tstring_end on_nl ####################################################################################### # NOTE ####################################################################################### # # This test won't run properly until the test agent nodes have the Spanish language # pack installed on them. On an ubuntu system, this can be done with the following: # # apt-get install language-pack-es-base # # Also, this test depends on the following pull requests: # # https://github.com/puppetlabs/puppet-acceptance/pull/123 # https://github.com/puppetlabs/facter/pull/159 # #######################################################################################
on_ignored_nl on_ignored_nl UNK on_op UNK on_nl on_tstring_content on_embexpr_beg temp_file_name on_embexpr_end on_tstring_content UNK on_ignored_nl on_ignored_nl UNK UNK on_comma UNK on_comma UNK # in this step we are going to run an "exec" block that writes the value of the LANG # environment variable to a file. We need to verify that exec's are no longer # forcefully setting this var to 'C'.
on_ignored_nl UNK UNK on_comma UNK on_comma UNK UNK on_op UNK UNK UNK on_op UNK UNK on_nl on_ignored_nl UNK UNK UNK # apply the manifest. # # note that we are passing in an extra :environment argument, which will cause the # framework to temporarily set this variable before executing the puppet command. # this lets us know what value we should be looking for as the output of the exec.
UNK UNK UNK on_comma on_tstring_beg on_tstring_content on_embexpr_beg temp_file_name on_embexpr_end on_tstring_end UNK on_period UNK UNK on_op result on_op on_ignored_nl UNK UNK # cat the temp file and make sure it contained the correct value.
on_ignored_nl UNK on_op UNK on_nl on_tstring_content on_embexpr_beg temp_file_name on_embexpr_end on_tstring_content UNK on_ignored_nl UNK UNK on_comma UNK on_comma UNK UNK on_op # in this step we are going to run an "exec" block that runs the "cat" command. The command # is intentionally invalid, because we are going to run it using a non-standard locale and # we want to confirm that the error message is in the correct language.
UNK UNK on_comma UNK on_comma UNK UNK on_op UNK UNK UNK on_op UNK UNK on_nl on_ignored_nl UNK UNK UNK on_comma # apply the manifest, again passing in the extra :environment argument to set our locale.
UNK UNK UNK on_comma on_tstring_beg on_tstring_content on_embexpr_beg temp_file_name on_embexpr_end on_tstring_end UNK on_period UNK UNK on_op result on_op on_ignored_nl UNK UNK # cat the output file and ensure that the error message is in spanish
UNK UNK on_comma on_tstring_beg on_tstring_content on_embexpr_beg temp_file_name on_embexpr_end on_tstring_end on_nl on_ignored_nl on_ignored_nl on_ignored_nl EMP EMP EMP EMP EMP EMP EMP # remove the temp file
