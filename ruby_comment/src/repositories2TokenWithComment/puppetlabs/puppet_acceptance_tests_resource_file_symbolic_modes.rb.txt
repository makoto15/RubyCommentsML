UNK on_symbeg UNK on_comma on_symbeg UNK on_op on_regexp_beg on_tstring_content on_regexp_end on_nl UNK on_symbeg UNK on_comma on_symbeg UNK on_op on_regexp_beg on_tstring_content # See ARISTA-37
def UNK on_nl on_op on_ivar on_period UNK on_op on_ivar on_op on_ivar on_nl end on_nl on_ignored_nl def UNK on_nl on_tstring_beg on_tstring_content # does the mode of the file/directory change from start_mode to puppet apply
on_ignored_nl UNK on_period UNK do on_op agent on_op on_ignored_nl UNK on_op agent on_lbracket on_tstring_beg on_tstring_content on_tstring_end on_rbracket on_period UNK on_lparen # For your reference: # 4000 the set-user-ID-on-execution bit # 2000 the set-group-ID-on-execution bit # 1000 the sticky bit # 0400 Allow read by owner. # 0200 Allow write by owner. # 0100 For files, allow execution by owner. For directories, allow the # owner to search in the directory. # 0040 Allow read by group members. # 0020 Allow write by group members. # 0010 For files, allow execution by group members. For directories, allow # group members to search in the directory. # 0004 Allow read by others. # 0002 Allow write by others. # 0001 For files, allow execution by others. For directories allow others # to search in the directory. # # On Solaris 11 (from man chmod): # # 20#0 Set group ID on execution if # is 7, 5, 3, or 1. # Enable mandatory locking if # is 6, 4, 2, or 0. # ... # For directories, the set-gid bit can # only be set or cleared by using symbolic mode.
UNK on_period UNK do on_op agent on_op on_ignored_nl UNK on_op agent on_lbracket on_tstring_beg on_tstring_content on_tstring_end on_rbracket on_period UNK on_lparen on_tstring_beg # From https://www.gnu.org/software/coreutils/manual/html_node/Symbolic-Modes.html#Symbolic-Modes # Users # u the user who owns the file; # g other users who are in the file's group; # o all other users; # a all users; the same as 'ugo'. # # Operations # + to add the permissions to whatever permissions the users already have for the file; # - to remove the permissions from whatever permissions the users already have for the file; # = to make the permissions the only permissions that the users have for the file. # # Permissions # r the permission the users have to read the file; # w the permission the users have to write to the file; # x the permission the users have to execute the file, or search it if it is a directory. # s the meaning depends on which user (uga) the permission is associated with: # to set set-user-id-on-execution, use 'u' in the users part of the symbolic mode and 's' in the permissions part. # to set set-group-id-on-execution, use 'g' in the users part of the symbolic mode and 's' in the permissions part. # to set both user and group-id-on-execution, omit the users part of the symbolic mode (or use 'a') and use 's' in the permissions part. # t the restricted deletion flag (sticky bit), omit the users part of the symbolic mode (or use 'a') and use 't' in the permissions part. # X execute/search permission is affected only if the file is a directory or already had execute permission. # # Note we do not currently support the Solaris (l) permission: # l mandatory file and record locking refers to a file's ability to have its reading or writing # permissions locked while a program is accessing that file. #
create_test on_period symlink_file on_lparen on_tstring_beg on_tstring_content on_tstring_end on_comma on_int on_rparen on_nl on_ignored_nl create_test on_period symlink_file on_lparen on_tstring_beg on_tstring_content on_tstring_end on_comma #create_test.symlink_file('ugo=rwxs', 06777) ## BUG, puppet creates 07777
create_test on_period symlink_directory on_lparen on_tstring_beg on_tstring_content on_tstring_end on_comma on_int on_rparen on_nl on_ignored_nl create_test on_period symlink_directory on_lparen on_tstring_beg on_tstring_content on_tstring_end on_comma #create_test.symlink_directory('ugo=rwxs', 06777) ## BUG, puppet creates 07777
modify_test on_period symlink_directory on_lparen on_tstring_beg on_tstring_content on_tstring_end on_comma on_int on_comma on_int on_rparen UNK UNK on_nl modify_test on_period symlink_directory on_lparen on_tstring_beg # using chmod 2744 on a directory to set the start_mode fails on Solaris
end on_nl end on_nl EMP EMP EMP EMP EMP EMP EMP EMP EMP EMP EMP EMP EMP EMP EMP EMP # these raise # test.assert_raises('') # test.assert_raises(' ') # test.assert_raises('u=X') # test.assert_raises('u-X') # test.assert_raises('+l') # test.assert_raises('-l')
