UNK UNK on_lparen latitude on_comma longitude on_comma lat_attr on_comma lon_attr on_comma options on_op UNK UNK on_rparen on_ignored_nl units on_op options ## # Distance calculation for use with a database that supports POWER(), # SQRT(), PI(), and trigonometric functions SIN(), COS(), ASIN(), # ATAN2(). # # Based on the excellent tutorial at: # http://www.scribd.com/doc/2569355/Geo-Distance-Search-with-MySQL #
UNK UNK on_lparen latitude on_comma longitude on_comma lat_attr on_comma lon_attr on_comma options on_op UNK UNK on_rparen on_ignored_nl units on_op options ## # Distance calculation for use with a database without trigonometric # functions, like SQLite. Approach is to find objects within a square # rather than a circle, so results are very approximate (will include # objects outside the given radius). # # Distance and bearing calculations are *extremely inaccurate*. To be # clear: this only exists to provide interface consistency. Results # are not intended for use in production! #
UNK on_op on_const on_period UNK on_lparen on_const on_op on_const on_op UNK on_rparen on_nl on_ignored_nl on_tstring_beg on_tstring_content on_embexpr_beg UNK on_embexpr_end on_tstring_content # sin of 45 degrees = average x or y component of vector
UNK UNK on_period to_f on_op UNK on_period to_f on_nl UNK on_op on_tstring_beg on_tstring_content on_embexpr_beg lon_attr on_embexpr_end on_tstring_content on_embexpr_beg UNK on_period # handle box that spans 180 longitude
UNK UNK on_lparen latitude on_comma longitude on_comma lat_attr on_comma lon_attr on_comma options on_op UNK UNK on_rparen on_ignored_nl degrees_per_radian on_op on_const ## # Fairly accurate bearing calculation. Takes a latitude, longitude, # and an options hash which must include a :bearing value # (:linear or :spherical). # # For use with a database that supports MOD() and trigonometric functions # SIN(), COS(), ASIN(), ATAN2(). # # Based on: # http://www.beginningspatial.com/calculating_bearing_one_point_another #
UNK UNK on_lparen latitude on_comma longitude on_comma lat_attr on_comma lon_attr on_comma options on_op UNK UNK on_rparen on_ignored_nl on_tstring_beg on_tstring_content on_tstring_end ## # Totally lame bearing calculation. Basically useless except that it # returns *something* in databases without trig functions. #
