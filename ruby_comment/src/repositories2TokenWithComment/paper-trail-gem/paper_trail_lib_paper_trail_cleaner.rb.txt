on_ignored_nl UNK on_const on_nl UNK on_const on_nl UNK UNK on_lparen options on_op UNK UNK on_rparen on_ignored_nl options on_op UNK UNK # frozen_string_literal: true
UNK on_const on_nl UNK UNK on_lparen options on_op UNK UNK on_rparen on_ignored_nl options on_op UNK UNK UNK on_comma UNK on_symbeg # Utilities for deleting version records.
UNK UNK on_lparen options on_op UNK UNK on_rparen on_ignored_nl options on_op UNK UNK UNK on_comma UNK on_symbeg UNK UNK on_period # Destroys all but the most recent version(s) for items on a given date # (or on all dates). Useful for deleting drafts. # # Options: # # - :keeping - An `integer` indicating the number of versions to be kept for # each item per date. Defaults to `1`. The most recent matching versions # are kept. # - :date - Should either be a `Date` object specifying which date to # destroy versions for or `:all`, which will specify that all dates # should be cleaned. Defaults to `:all`. # - :item_id - The `id` for the item to be cleaned on, or `nil`, which # causes all items to be cleaned. Defaults to `nil`. #
UNK on_period UNK on_lparen options UNK on_symbeg UNK UNK on_rparen on_nl UNK on_period UNK on_lparen on_op on_symbeg UNK on_rparen on_nl # Remove the number of versions we wish to keep from the collection # of versions prior to destruction.
UNK UNK on_lparen UNK on_op UNK on_comma date on_op on_symbeg UNK on_rparen on_ignored_nl UNK date on_op on_symbeg UNK on_op date # Returns a hash of versions grouped by the `item_id` attribute formatted # like this: {:item_id => PaperTrail::Version}. If `item_id` or `date` is # set, versions will be narrowed to those pointing at items with those ids # that were created on specified date. Versions are returned in # chronological order.
versions on_op on_const on_op on_const on_period UNK UNK versions on_op on_const on_op on_const on_nl versions on_period UNK on_lparen on_op on_symbeg # If `versions` has not been converted to an ActiveRecord::Relation yet, # do so now.
UNK UNK on_lparen versions on_rparen on_ignored_nl versions on_period UNK UNK on_op UNK on_op UNK on_period UNK on_period UNK UNK on_nl # Given an array of versions, returns a hash mapping dates to arrays of # versions. # @api private
