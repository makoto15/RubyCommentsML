on_ignored_nl on_ignored_nl UNK on_tstring_beg on_tstring_content on_tstring_end on_nl UNK on_tstring_beg on_tstring_content on_tstring_end on_nl on_ignored_nl UNK on_const on_nl UNK on_const on_nl def # frozen_string_literal: true
on_ignored_nl UNK on_tstring_beg on_tstring_content on_tstring_end on_nl UNK on_tstring_beg on_tstring_content on_tstring_end on_nl on_ignored_nl UNK on_const on_nl UNK on_const on_nl def UNK # This profiler run simulates Shopify. # We are looking in the tests directory for liquid files and render them within the designated layout file. # We will also export a substantial database to liquid which the templates can render values of. # All this is to make the benchmark as non syntetic as possible. All templates and tests are lifted from # direct real-world usage and the profiler measures code that looks very similar to the way it looks in # Shopify which is likely the biggest user of liquid in the world which something to the tune of several # million Template#render calls a day.
def UNK on_lparen UNK on_rparen on_ignored_nl on_const on_period UNK on_lparen on_ivar on_op on_tstring_beg on_tstring_content on_tstring_end on_op UNK on_op on_tstring_beg on_tstring_content # Called by Liquid to retrieve a template file
def UNK on_nl on_ivar on_op on_const on_lbracket UNK on_op on_tstring_beg on_tstring_content on_tstring_end on_rbracket on_period UNK do on_op test on_op on_ignored_nl # Initialize a new liquid ThemeRunner instance # Will load all templates into memory, do this now so that we don't profile IO.
def UNK on_nl on_ivar on_period UNK do on_op test_hash on_op on_ignored_nl on_const on_op on_const on_period UNK on_period UNK on_lparen test_hash # `compile` will test just the compilation portion of liquid without any templates
def UNK on_nl UNK do on_op liquid on_comma layout on_comma assigns on_comma page_template on_comma template_name on_op on_ignored_nl UNK on_lparen liquid # `run` is called to benchmark rendering and compiling at the same time
def UNK on_nl on_ivar on_period UNK do on_op test on_op on_ignored_nl tmpl on_op test on_lbracket on_symbeg tmpl on_rbracket on_nl assigns # `render` is called to benchmark just the render portion of liquid
def UNK on_nl assigns on_op on_const on_period UNK on_period UNK on_nl on_ignored_nl on_ivar on_period UNK do on_op test_hash on_op on_ignored_nl # utility method with similar functionality needed in `compile_all_tests` and `run`
assigns on_op on_const on_period UNK on_period UNK on_nl on_ignored_nl on_ivar on_period UNK do on_op test_hash on_op on_ignored_nl page_template on_op on_const # Dup assigns because will make some changes to them
page_template on_op on_const on_period UNK on_lparen test_hash on_lbracket on_symbeg template_name on_rbracket on_comma on_const on_period UNK on_lparen test_hash on_lbracket on_symbeg template_name # Compute page_template outside of profiler run, uninteresting to profiler
def UNK on_lparen page_template on_comma template_file on_rparen on_ignored_nl tmpl on_op on_const on_op on_const on_period UNK on_nl tmpl on_period assigns on_lbracket # set up a new Liquid::Template object for use in `compile_and_render` and `compile_test`
