UNK on_lparen on_symbeg UNK on_comma on_const on_op on_const on_rparen if on_const on_period UNK on_lparen on_symbeg on_const on_rparen on_nl on_ignored_nl UNK # Use send as a workaround for erroneous 'wrong number of arguments' errors # with JRuby 9.0.5.0 when calling methods with Java implementations. See #114.
UNK on_const on_op on_const on_nl end on_nl on_ignored_nl UNK on_const on_op on_const on_ignored_nl on_const on_op on_op on_int on_nl on_ignored_nl on_const # An InvalidZoneinfoFile exception is raised if an attempt is made to load an # invalid zoneinfo file.
UNK on_const on_op on_const on_ignored_nl on_const on_op on_op on_int on_nl on_ignored_nl on_const on_op on_int on_nl on_ignored_nl def UNK on_lparen UNK # Represents a timezone defined by a compiled zoneinfo TZif (\0, 2 or 3) file. # # @private
on_ignored_nl on_const on_op on_op on_int on_nl on_ignored_nl on_const on_op on_int on_nl on_ignored_nl def UNK on_lparen UNK on_comma UNK on_rparen on_ignored_nl #:nodoc:
on_const on_op on_op on_int on_nl on_ignored_nl on_const on_op on_int on_nl on_ignored_nl def UNK on_lparen UNK on_comma UNK on_rparen on_ignored_nl UNK # Minimum supported timestamp (inclusive). # # Time.utc(1700, 1, 1).to_i
on_const on_op on_int on_nl on_ignored_nl def UNK on_lparen UNK on_comma UNK on_rparen on_ignored_nl UNK on_lparen UNK on_rparen on_nl on_ignored_nl on_const # Maximum supported timestamp (exclusive). # # Time.utc(2500, 1, 1).to_i
def UNK on_lparen UNK on_comma UNK on_rparen on_ignored_nl UNK on_lparen UNK on_rparen on_nl on_ignored_nl on_const on_period UNK on_lparen UNK on_comma # Constructs the new ZoneinfoTimezoneInfo with an identifier and path # to the file.
def UNK on_lparen UNK on_rparen on_ignored_nl UNK on_op on_int on_op UNK on_op on_int on_op UNK on_nl end on_nl on_ignored_nl def # Unpack will return unsigned 32-bit integers. Translate to # signed 32-bit.
def UNK on_lparen UNK on_comma UNK on_rparen on_ignored_nl UNK on_op on_lparen UNK on_op on_int on_rparen on_op UNK on_nl UNK on_op # Unpack will return a 64-bit integer as two unsigned 32-bit integers # (most significant first). Translate to signed 64-bit
def check_read on_lparen file on_comma UNK on_rparen on_ignored_nl result on_op file on_period UNK on_lparen UNK on_rparen on_nl on_ignored_nl unless result # Read bytes from file and check that the correct number of bytes could # be read. Raises InvalidZoneinfoFile if the number of bytes didn't match # the number requested.
def UNK on_lparen transitions on_comma offsets on_rparen on_ignored_nl UNK on_op offsets on_period UNK on_lbrace on_op o on_op on_op o on_lbracket # Zoneinfo files don't include the offset from standard time (std_offset) # for DST periods. Derive the base offset (utc_offset) where DST is # observed from either the previous or next non-DST period. # # Returns the index of the offset to be used prior to the first # transition.
UNK on_op offsets on_period UNK on_lbrace on_op o on_op on_op o on_lbracket on_symbeg UNK on_rbracket on_rbrace on_nl first_offset_index on_op UNK # The first non-DST offset (if there is one) is the offset observed # before the first transition. Fallback to the first DST offset if there # are no non-DST offsets.
utc_offset_from_next on_op UNK on_nl on_ignored_nl transitions on_period UNK do on_op transition on_op on_ignored_nl offset on_op offsets on_lbracket transition on_lbracket on_symbeg # Determine the utc_offset of the next non-dst offset at each transition.
utc_total_offset on_op on_int on_nl end on_nl on_ignored_nl if on_op offset on_lbracket on_symbeg utc_offset on_rbracket on_nl offset on_lbracket on_symbeg utc_offset on_rbracket # No difference, assume a 1 hour offset from standard time.
UNK on_op offset on_period UNK on_nl UNK on_lbracket on_symbeg utc_offset on_rbracket on_op utc_offset on_nl on_ignored_nl offset_index on_op UNK on_lbracket UNK # An earlier transition has already derived a different # utc_offset. Define a new offset or reuse an existing identically # defined offset.
def UNK on_lparen UNK on_comma offset on_rparen on_ignored_nl utc_total_offset on_op offset on_lbracket on_symbeg utc_total_offset on_rbracket on_nl utc_offset on_op offset on_lbracket # Defines an offset for the timezone based on the given index and offset # Hash.
UNK on_op utc_total_offset on_op utc_offset on_nl elsif offset on_lbracket on_symbeg UNK on_rbracket on_nl utc_offset on_op utc_total_offset on_op on_int on_nl UNK # DST offset with base utc_offset derived by derive_offsets.
utc_offset on_op utc_total_offset on_op on_int on_nl UNK on_op on_int on_nl else on_ignored_nl utc_offset on_op utc_total_offset on_nl UNK on_op on_int on_nl # DST offset unreferenced by a transition (offset in use before the # first transition). No derived base UTC offset, so assume 1 hour # DST.
utc_offset on_op utc_total_offset on_nl UNK on_op on_int on_nl end on_nl on_ignored_nl offset UNK on_comma utc_offset on_comma UNK on_comma offset on_lbracket # Non-DST offset.
def UNK on_lparen file on_rparen on_ignored_nl UNK on_comma version on_comma UNK on_comma UNK on_comma UNK on_comma timecnt on_comma UNK on_comma # Parses a zoneinfo file and intializes the DataTimezoneInfo structures.
file on_period UNK on_lparen timecnt on_op on_int on_op UNK on_op on_int on_op UNK on_op UNK on_op on_int on_op UNK on_op # Skip the first 32-bit section and read the header of the second 64-bit section
first_offset_index on_op UNK on_lparen transitions on_comma offsets on_rparen on_nl on_ignored_nl UNK on_lparen first_offset_index on_comma offsets on_lbracket first_offset_index on_rbracket on_rparen on_nl # Derive the offsets from standard time (std_offset).
on_ignored_nl on_ignored_nl UNK on_comma UNK on_op transitions on_period UNK on_lbrace on_op t on_op t on_lbracket on_symbeg at on_rbracket on_op on_int # Filter out transitions that are not supported by Time on this # platform.
on_ignored_nl UNK on_comma UNK on_op transitions on_period UNK on_lbrace on_op t on_op t on_lbracket on_symbeg at on_rbracket on_op on_int on_rbrace # Move the last transition before the epoch up to the epoch. This # allows for accurate conversions for all supported timestamps on the # platform.
transitions on_period UNK do on_op t on_op on_ignored_nl at on_op t on_lbracket on_symbeg at on_rbracket on_nl if at on_op on_const # Ignore transitions that occur outside of a defined window. The # transition index cannot handle a large range of transition times. # # This is primarily intended to ignore the far in the past transition # added in zic 2014c (at timestamp -2**63 in zic 2014c and at the # approximate time of the big bang from zic 2014d).
