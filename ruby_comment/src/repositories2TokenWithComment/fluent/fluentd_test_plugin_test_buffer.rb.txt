on_ignored_nl assert_equal on_lbracket on_ivar on_comma on_ivar on_rbracket on_comma on_ivar on_period stage on_period keys on_nl assert_equal on_tstring_beg on_tstring_content on_tstring_end on_op on_int # @p is started plugin
assert_equal on_int on_comma on_ivar on_period queued_num on_lbracket on_ivar on_rbracket on_nl assert_equal on_int on_comma on_ivar on_period queued_num on_lbracket on_ivar on_rbracket on_nl # staged, queued
assert on_ivar on_period queue on_period last on_period rollbacked on_nl end on_nl on_ignored_nl test on_tstring_beg on_tstring_content on_tstring_end do on_ignored_nl assert_equal on_lbracket # 1 -> write (2) -> write_step_by_step (3)
assert on_ivar on_period queue on_period last on_period rollbacked on_nl end on_nl on_ignored_nl test on_tstring_beg on_tstring_content on_tstring_end do on_ignored_nl assert_equal on_int # 1 -> write (2) -> rollback&enqueue
on_lbracket event_time on_lparen on_tstring_beg on_tstring_content on_tstring_end on_rparen on_comma on_lbrace on_tstring_beg on_tstring_content on_tstring_end on_op on_tstring_beg on_tstring_content on_tstring_end on_op on_lparen on_int on_op # 1024 * 1024 bytes as msgpack stream
on_ivar on_op UNK on_op on_const on_op on_const on_period new on_lparen on_lbracket on_lbracket event_time on_lparen on_tstring_beg on_tstring_content on_tstring_end on_rparen on_comma on_lbrace # 1 record is 128bytes in msgpack stream
assert_equal on_lbracket on_ivar on_rbracket on_comma on_ivar on_period stage on_period keys on_nl assert_equal on_int on_comma on_ivar on_period stage on_lbracket on_ivar on_rbracket # metadata whose seq is 4 is created, but overwrite with original metadata(seq=0) for next use of this chunk https://github.com/fluent/fluentd/blob/9d113029d4550ce576d8825bfa9612aa3e55bff0/lib/fluent/plugin/buffer.rb#L357
end on_nl on_ignored_nl test on_tstring_beg on_tstring_content on_tstring_end do on_ignored_nl assert_equal on_lbracket on_ivar on_rbracket on_comma on_ivar on_period stage on_period keys on_nl # splits: 45000 / 100 => 450 * ... # 9900 * 4 + 5400 == 45000
assert_equal on_lbracket on_int on_comma on_int on_comma on_int on_comma on_int on_comma on_int on_comma on_int on_rbracket on_comma UNK on_period map on_lparen on_op # splits: 45000 / 100 => 450 * ...
end on_nl on_ignored_nl test on_tstring_beg on_tstring_content on_tstring_end do on_ignored_nl assert_equal on_lbracket on_ivar on_rbracket on_comma on_ivar on_period stage on_period keys on_nl # 9800 + 3200 == 5000 + 8000
end on_nl on_ignored_nl test on_tstring_beg on_tstring_content on_tstring_end do on_ignored_nl assert_equal on_lbracket on_ivar on_rbracket on_comma on_ivar on_period stage on_period keys on_nl # splits: 45000 / 100 => 450 * ... ##### 900 + 9500 + 9900 * 4 == 5000 + 45000
create_chunk on_lparen dm1 on_comma on_lbracket on_tstring_beg on_tstring_content on_tstring_end on_op on_int on_rbracket on_op on_int on_rparen on_period enqueued! on_comma on_ignored_nl on_rbracket on_nl # 8th queued chunk
