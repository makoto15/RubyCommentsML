UNK UNK on_lparen UNK on_rparen on_ignored_nl UNK on_nl end on_nl end on_nl on_ignored_nl let on_lparen on_symbeg subject on_rparen on_lbrace on_const # these tests actually "send requests" - and `update_request_headers` would otherwise # add data to the headers that does not exist / is empty which will crash faraday later
expect on_lparen on_const on_rparen on_period to have_requested on_lparen on_symbeg put on_comma on_tstring_beg on_tstring_content on_tstring_end on_rparen on_period with on_lparen on_label on_lbrace # sms should be sent despite having trusted devices
context on_tstring_beg on_tstring_content on_tstring_end do on_ignored_nl it on_tstring_beg on_tstring_content on_tstring_end do on_ignored_nl response on_op on_const on_period new on_nl response on_period # sms fallback, will be sent automatically
context on_tstring_beg on_tstring_content on_tstring_end do on_ignored_nl let on_lparen on_symbeg phone_id on_rparen on_lbrace on_int on_rbrace on_nl let on_lparen on_symbeg phone_number on_rparen # sms fallback, won't be sent automatically
expect on_lparen on_const on_rparen on_period to have_requested on_lparen on_symbeg put on_comma on_tstring_beg on_tstring_content on_tstring_end on_rparen on_period with on_lparen on_label on_lbrace # expected requests
it on_tstring_beg on_tstring_content on_tstring_end do on_ignored_nl bool on_op subject on_period handle_two_factor on_lparen response on_rparen on_nl expect on_lparen bool on_rparen on_period # make sure sms overrides device verification when env var is set
context on_tstring_beg on_tstring_content on_tstring_end do on_ignored_nl it on_tstring_beg on_tstring_content on_tstring_end do on_ignored_nl response on_op on_const on_period new on_nl response on_period # sms fallback, will be sent automatically
let on_lparen on_symbeg phone_number on_rparen on_lbrace on_tstring_beg on_tstring_content on_tstring_end on_rbrace on_nl let on_lparen on_symbeg phone_id on_rparen on_lbrace on_int on_rbrace on_nl # sets env var to the second phone number in this context
it on_tstring_beg on_tstring_content on_tstring_end do on_ignored_nl expect on_lparen subject on_rparen on_period UNK UNK on_lparen on_symbeg UNK on_rparen on_nl on_ignored_nl bool # making sure we use env var for phone number selection
expect on_lparen subject on_rparen on_period UNK UNK on_lparen on_symbeg UNK on_rparen on_nl on_ignored_nl bool on_op subject on_period handle_two_factor on_lparen response # rubocop:disable Style/MethodCallWithArgsParentheses
on_ignored_nl bool on_op subject on_period handle_two_factor on_lparen response on_rparen on_nl expect on_lparen bool on_rparen on_period to eq on_lparen true on_rparen # rubocop:enable Style/MethodCallWithArgsParentheses
