UNK on_const on_nl UNK on_const on_nl UNK on_const on_nl on_const on_op on_symbeg on_const on_nl on_const on_op on_symbeg on_const on_nl end # rubocop:disable all
on_ignored_nl class on_const on_op on_const on_nl on_const on_op on_lbrace on_ignored_nl on_label on_tstring_beg on_tstring_content on_tstring_end on_comma on_ignored_nl on_label on_tstring_beg on_tstring_content on_tstring_end # xcodebuild man page: # https://developer.apple.com/library/mac/documentation/Darwin/Reference/ManPages/man1/xcodebuild.1.html
on_label on_tstring_beg on_tstring_content on_tstring_end on_comma on_ignored_nl on_label on_tstring_beg on_tstring_content on_tstring_end on_comma on_ignored_nl on_label on_tstring_beg on_tstring_content on_tstring_end on_comma on_ignored_nl on_label on_tstring_beg # actions
on_label on_tstring_beg on_tstring_content on_tstring_end on_comma on_ignored_nl on_label on_tstring_beg on_tstring_content on_tstring_end on_comma on_ignored_nl on_label on_tstring_beg on_tstring_content on_tstring_end on_comma on_ignored_nl on_label on_tstring_beg # parameters
xcodebuild_args on_op on_const on_lbracket on_rbracket on_nl on_ignored_nl build_path on_op on_const on_lbracket on_tstring_beg on_tstring_content on_tstring_end on_rbracket on_op UNK on_nl scheme on_op # The args we will build with
build_path on_op on_const on_lbracket on_tstring_beg on_tstring_content on_tstring_end on_rbracket on_op UNK on_nl scheme on_op on_const on_lbracket on_tstring_beg on_tstring_content on_tstring_end on_rbracket on_nl # Supported ENV vars
params on_lbracket on_symbeg UNK on_rbracket on_op on_const on_lbracket on_tstring_beg on_tstring_content on_tstring_end on_rbracket on_nl on_const on_period UNK on_lbracket on_const on_op on_const # Set derived data path.
if build_path on_op on_op build_path on_period UNK on_lparen on_tstring_beg on_tstring_content on_tstring_end on_rparen on_nl build_path on_op on_tstring_beg on_tstring_content on_tstring_end on_nl end # Append slash to build path, if needed
raw_buildlog on_op UNK on_nl on_ignored_nl UNK on_op UNK on_nl on_ignored_nl if params on_nl UNK on_op params on_period key? on_symbeg UNK # By default we use xcpretty
UNK on_op UNK on_nl on_ignored_nl if params on_nl UNK on_op params on_period key? on_symbeg UNK on_nl UNK on_op params on_period # By default we don't pass the utf flag
UNK on_op params on_period key? on_symbeg UNK on_nl UNK on_op params on_period key? on_symbeg UNK on_nl UNK on_op params on_period # Operation bools
params on_lbracket on_symbeg UNK on_rbracket on_op on_const on_period UNK on_lbracket on_const on_op on_const on_rbracket on_nl on_ignored_nl if params on_lbracket on_symbeg # If not passed, retrieve path from previous xcodebuild call
if params on_lbracket on_symbeg UNK on_rbracket on_period UNK on_nl UNK on_op scheme on_op scheme on_op on_const on_period UNK on_lparen params # If not passed, construct export path from env vars
UNK on_op params on_lbracket on_symbeg UNK on_rbracket on_op on_tstring_beg on_tstring_content on_tstring_end on_nl on_ignored_nl on_const on_period UNK on_lbracket on_const on_op on_const # Default to ipa as export format
on_const on_period UNK on_lbracket on_const on_op on_const on_rbracket on_op params on_lbracket on_symbeg UNK on_rbracket on_op on_tstring_beg on_tstring_content on_tstring_end on_op UNK # Store IPA path for later deploy steps (i.e. Crashlytics)
params on_lbracket on_symbeg scheme on_rbracket on_op scheme on_nl params on_lbracket on_symbeg workspace on_rbracket on_op workspace on_nl params on_lbracket on_symbeg UNK # If not passed, check for archive scheme & workspace/project env vars
if params on_lbracket on_symbeg UNK on_rbracket on_period to_s on_period UNK on_op params on_lbracket on_symbeg workspace on_rbracket on_period to_s on_period UNK # If no project or workspace was passed in or set as an environment # variable, attempt to autodetect the workspace.
params on_lbracket on_symbeg UNK on_rbracket on_op on_tstring_beg on_embexpr_beg build_path on_embexpr_end on_embexpr_beg params on_lbracket on_symbeg scheme on_rbracket on_embexpr_end on_tstring_content on_tstring_end on_nl # If not passed, construct archive path from env vars
on_const on_period UNK on_lbracket on_const on_op on_const on_rbracket on_op params on_lbracket on_symbeg UNK on_rbracket on_nl end on_nl on_ignored_nl if params # Cache path for later xcodebuild calls
params on_op UNK on_lparen params on_rparen on_nl if UNK on_op UNK on_lparen params on_rparen on_nl xcodebuild_args on_op UNK on_nl end # Maps parameter hash to CLI args
buildlog_path on_op on_const on_period UNK on_lparen on_tstring_beg on_embexpr_beg on_const on_op on_const on_period buildlog_path on_embexpr_end on_tstring_content on_embexpr_beg on_const on_period UNK on_period # By default we put xcodebuild.log in the Logs folder
xcodebuild_args on_op xcodebuild_args on_period UNK on_lparen on_tstring_beg on_tstring_content on_tstring_end on_rparen on_nl on_ignored_nl xcpretty_args on_op on_lbracket on_rbracket on_nl on_ignored_nl if params # Joins args into space delimited string
xcpretty_args on_op on_lbracket on_rbracket on_nl on_ignored_nl if params on_op params on_lbracket on_symbeg output_style on_rbracket on_nl output_style on_op params on_lbracket on_symbeg # Default args
if params on_op params on_lbracket on_symbeg output_style on_rbracket on_nl output_style on_op params on_lbracket on_symbeg output_style on_rbracket on_nl on_const on_period UNK # Formatting style
UNK on_op params on_lbracket on_symbeg UNK on_rbracket on_period UNK on_lparen on_tstring_beg on_tstring_end on_rparen UNK on_op UNK on_comma report on_op on_ignored_nl # New report options format
UNK on_op params on_lbracket on_symbeg UNK on_rbracket on_period UNK UNK on_op UNK on_op on_ignored_nl on_tstring_beg on_tstring_content on_embexpr_beg UNK on_embexpr_end on_tstring_end # Test report file format
if params on_lbracket on_symbeg UNK on_rbracket on_period include? on_lparen on_tstring_beg on_tstring_content on_tstring_end on_rparen on_op params on_lbracket on_symbeg UNK on_rbracket on_nl # Save screenshots flag
if params on_lbracket on_symbeg UNK on_rbracket on_nl xcpretty_args on_period UNK on_tstring_beg on_tstring_content on_embexpr_beg params on_lbracket on_symbeg UNK on_rbracket on_embexpr_end on_tstring_content # Test report file path
if UNK on_op on_op UNK on_nl xcpretty_args on_op on_lparen params on_lbracket on_symbeg UNK on_rbracket on_op on_tstring_beg on_tstring_content on_embexpr_beg params on_lbracket # Stdout format
UNK on_ignored_nl UNK on_op on_const on_period UNK on_tstring_beg on_tstring_content on_embexpr_beg xcodebuild_args on_embexpr_end on_tstring_content on_embexpr_beg UNK on_embexpr_end on_tstring_end on_nl UNK on_op # In some cases the simulator is not booting up in time # One way to solve it is to try to rerun it for one more time
if raw_buildlog on_op xcpretty_args on_period include? on_lparen on_tstring_beg on_tstring_content on_tstring_end on_rparen on_nl UNK on_op on_const on_period UNK on_tstring_beg on_tstring_content on_embexpr_beg # If raw_buildlog and some reports had to be created, create xcpretty reports from the build log
if hash on_period UNK on_lparen on_symbeg UNK on_rparen on_op hash on_lbracket on_symbeg UNK on_rbracket on_period UNK on_lparen on_const on_rparen on_nl # Extract export options parameters from input options
export_options on_lbracket on_symbeg UNK on_rbracket on_op on_const on_op on_const on_period UNK on_lparen on_symbeg UNK on_rparen if on_op export_options on_lbracket on_symbeg # Normalize some values
UNK on_op on_tstring_beg on_embexpr_beg on_const on_period UNK on_lparen on_tstring_beg on_tstring_content on_tstring_end on_rparen on_period UNK on_embexpr_end on_tstring_content on_tstring_end on_nl on_const on_period # Saves options to plist
hash on_op hash on_period UNK on_lbrace on_op UNK on_comma v on_op v on_period UNK on_rbrace on_nl on_ignored_nl hash on_period UNK # Remove nil value params
hash on_period UNK UNK on_op k on_comma v on_op on_ignored_nl v on_op on_tstring_beg on_tstring_end on_nl if UNK on_op on_const on_lbracket # Maps nice developer param names to CLI arguments
on_tstring_beg on_tstring_content on_embexpr_beg v on_embexpr_end on_tstring_content on_tstring_end on_nl elsif k on_op on_symbeg UNK on_op v on_period to_s on_period UNK on_op # If keychain is specified, append as OTHER_CODE_SIGN_FLAGS
on_tstring_beg on_embexpr_beg v on_embexpr_end on_tstring_end on_nl end on_nl end on_period UNK on_nl end on_nl on_ignored_nl def self on_period UNK on_lparen # Add more xcodebuild arguments
def self on_period UNK on_lparen UNK on_rparen on_ignored_nl UNK on_period to_s on_period UNK on_lparen on_tstring_beg on_tstring_content on_tstring_end on_comma on_tstring_beg on_tstring_content # Cleans values for build settings # Only escaping `$(inherit)` types of values since "sh" # interprets these as sub-commands instead of passing value into xcodebuild
