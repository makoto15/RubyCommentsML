filename_device on_op device if on_lparen UNK on_period UNK on_lparen device on_period UNK on_rparen on_op UNK on_period UNK on_lparen device on_period # assign to filename_device if the filename contains the formatted name / id and its priority is higher than the current filename_device
UNK filename_device if filename_device on_nl on_ignored_nl UNK found_device if found_device on_nl on_ignored_nl on_const on_period UNK on_lparen on_tstring_beg on_tstring_content UNK size # prefer filename
UNK found_device if found_device on_nl on_ignored_nl on_const on_period UNK on_lparen on_tstring_beg on_tstring_content UNK size UNK on_tstring_content UNK UNK UNK on_tstring_content # return found_device which was detected according to platform & priority & settings if found
on_const on_period UNK on_lparen on_tstring_beg on_tstring_content UNK size UNK on_tstring_content UNK UNK UNK on_tstring_content on_tstring_end on_rparen on_nl UNK nil on_nl # no device detected - show error and return nil
def UNK on_period UNK on_lparen id on_rparen on_ignored_nl UNK nil if id on_period nil? on_nl found_device on_op nil on_nl on_const # Previously ENV[FRAMEIT_FORCE_DEVICE_TYPE] was matched to Deliver::AppScreenshot::ScreenSize constants. However, # options.rb defined a few Apple devices with unspecified IDs, this option was never read from Frameit.config. # Therefore this function matches both ScreenSize constants and formatted names to maintain backward compatibility.
on_const on_period UNK on_period UNK UNK on_op UNK on_op on_ignored_nl device on_op on_const on_period UNK on_lparen UNK on_rparen on_nl if # multiple devices can be matched to the same deliver_screen_id constant -> we return the one with the highest priority
