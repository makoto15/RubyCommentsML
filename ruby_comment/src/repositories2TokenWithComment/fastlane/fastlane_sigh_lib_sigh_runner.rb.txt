def UNK on_nl on_const on_op on_const on_period UNK on_lparen on_label on_const on_period config on_comma on_ignored_nl on_label on_lbracket on_symbeg UNK on_rbracket # Uses the spaceship to create or download a provisioning profile # returns the path the newly created provisioning profile (in /tmp usually)
on_ignored_nl if profiles on_period UNK on_op on_int on_nl on_const on_period UNK on_lparen on_tstring_beg on_tstring_content on_embexpr_beg profiles on_period UNK on_embexpr_end on_tstring_content # download the profile if it's there
on_const on_period important on_lparen on_tstring_beg on_tstring_content on_tstring_end on_rparen on_nl profile on_period UNK on_nl profile on_op UNK on_nl end on_nl else # Recreating the profile ensures it has all of the requested properties (cert, name, etc.)
def profile_type on_nl return on_ivar if on_ivar on_nl on_ignored_nl on_ivar on_op on_const on_period provisioning_profile on_period UNK on_nl on_ivar on_op on_const # The kind of provisioning profile we're interested in
def UNK on_nl on_const on_period message on_lparen on_tstring_beg on_tstring_content on_tstring_end on_rparen on_nl results on_op profile_type on_period UNK on_lparen on_label on_const # Fetches a profile matching the user's search requirements
results on_op UNK on_lparen results on_rparen if on_const on_period config on_lbracket on_symbeg UNK on_rbracket on_period to_s on_period UNK on_op on_int # Take the provisioning profile name into account
UNK on_op current_profile on_period certificates on_period UNK do on_op cert on_op on_ignored_nl UNK on_ignored_nl UNK on_op cert on_period UNK on_nl # Attempts to download all certificates from this profile # for checking if they are installed. # `cert.download_raw` can fail if the user is a # "member" and not an a "admin"
UNK on_period UNK do on_op UNK on_op on_ignored_nl UNK unless UNK on_lbracket on_symbeg UNK on_rbracket on_nl file on_op on_const on_period # Makes sure we have the certificate installed on the local machine
UNK unless UNK on_lbracket on_symbeg UNK on_rbracket on_nl file on_op on_const on_period UNK on_lparen on_tstring_beg on_tstring_content on_tstring_end on_rparen on_nl file # Skip certificates that failed to download
def UNK on_nl cert on_op UNK on_nl UNK on_op on_const on_period config on_lbracket on_symbeg app_identifier on_rbracket on_nl name on_op on_const # Create a new profile and return it
certificates on_op on_const on_period certificate on_period UNK on_period all on_nl UNK profile_type on_op on_const on_period provisioning_profile on_period on_const on_op on_const # Enterprise accounts don't have access to Apple Distribution certificates
UNK profile_type on_op on_const on_period provisioning_profile on_period on_const on_op on_const on_period UNK on_op on_const on_period UNK on_period UNK on_nl certificates # handles case where the desired certificate type is adhoc but the account is an enterprise account # the apple dev portal api has a weird quirk in it where if you query for distribution certificates # for enterprise accounts, you get nothing back even if they exist.
certificates on_op on_const on_period certificate on_period UNK on_period all on_nl else on_ignored_nl certificates on_op on_const on_period certificate on_period UNK on_period # Enterprise accounts don't have access to Apple Distribution certificates
certificates on_op on_const on_period certificate on_period UNK on_period all on_op on_ignored_nl on_const on_period certificate on_period UNK on_period all on_nl end # Ad hoc or App Store
def UNK on_nl certificates on_op UNK on_nl on_ignored_nl certificates on_op certificates on_period UNK do on_op c on_op on_ignored_nl if on_const # Certificate to use based on the current distribution mode
certificates on_op certificates on_period UNK do on_op c on_op on_ignored_nl if on_const on_period config on_lbracket on_symbeg UNK on_rbracket on_nl UNK # Filter them
if on_const on_period UNK on_nl unless on_const on_period config on_lbracket on_symbeg UNK on_rbracket on_nl certificates on_op certificates on_period UNK do # verify certificates
return certificates on_period UNK on_nl end on_nl on_ignored_nl def UNK on_lparen profile on_rparen on_ignored_nl on_const on_period important on_lparen on_tstring_beg on_tstring_content # development profiles support multiple certificates
def UNK on_lparen profile on_rparen on_ignored_nl on_const on_period important on_lparen on_tstring_beg on_tstring_content on_tstring_end on_rparen on_nl UNK on_op on_tstring_beg on_embexpr_beg profile_type # Downloads and stores the provisioning profile
def UNK on_nl return if on_const on_op on_const on_period UNK on_lparen on_const on_period config on_lbracket on_symbeg app_identifier on_rbracket on_comma on_label # Makes sure the current App ID exists. If not, it will show an appropriate error message
