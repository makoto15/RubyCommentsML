on_ignored_nl on_ignored_nl UNK on_op on_lbracket on_ignored_nl on_lbrace on_ignored_nl on_tstring_beg on_tstring_content on_tstring_end on_op on_tstring_beg on_tstring_content on_tstring_end on_comma on_ignored_nl on_tstring_beg on_tstring_content on_tstring_end # references # normal implementation: # https://ruby-doc.org/stdlib-2.3.0/libdoc/shellwords/rdoc/Shellwords.html # https://github.com/ruby/ruby/blob/trunk/lib/shellwords.rb # "tests": # https://github.com/ruby/ruby/blob/trunk/test/test_shellwords.rb # https://github.com/ruby/ruby/blob/trunk/spec/ruby/library/shellwords/shellwords_spec.rb # other windows implementation: # https://github.com/larskanis/shellwords/tree/master/test
on_ignored_nl UNK on_op on_lbracket on_ignored_nl on_lbrace on_ignored_nl on_tstring_beg on_tstring_content on_tstring_end on_op on_tstring_beg on_tstring_content on_tstring_end on_comma on_ignored_nl on_tstring_beg on_tstring_content on_tstring_end on_op # shellescape
on_lbrace on_ignored_nl on_tstring_beg on_tstring_content on_tstring_end on_op on_tstring_beg on_tstring_content on_tstring_end on_comma on_ignored_nl on_tstring_beg on_tstring_content on_tstring_end on_op on_lbrace on_ignored_nl on_tstring_beg on_tstring_content on_tstring_end # baseline
on_lbrace on_ignored_nl on_tstring_beg on_tstring_content on_tstring_end on_op on_tstring_beg on_tstring_content on_tstring_end on_comma on_ignored_nl on_tstring_beg on_tstring_content on_tstring_end on_op on_lbrace on_ignored_nl on_tstring_beg on_tstring_content on_tstring_end # spaces
on_lbrace on_ignored_nl on_tstring_beg on_tstring_content on_tstring_end on_op on_tstring_beg on_tstring_content on_tstring_end on_comma on_ignored_nl on_tstring_beg on_tstring_content on_tstring_end on_op on_lbrace on_ignored_nl on_tstring_beg on_tstring_content on_tstring_end # double quotes
on_lbrace on_ignored_nl on_tstring_beg on_tstring_content on_tstring_end on_op on_tstring_beg on_tstring_content on_tstring_end on_comma on_ignored_nl on_tstring_beg on_tstring_content on_tstring_end on_op on_lbrace on_ignored_nl on_tstring_beg on_tstring_content on_tstring_end # https://github.com/ruby/ruby/blob/ac543abe91d7325ace7254f635f34e71e1faaf2e/test/test_shellwords.rb#L64-L65
on_lbrace on_ignored_nl on_tstring_beg on_tstring_content on_tstring_end on_op on_tstring_beg on_tstring_content on_tstring_end on_comma on_ignored_nl on_tstring_beg on_tstring_content on_tstring_end on_op on_lbrace on_ignored_nl on_tstring_beg on_tstring_content on_tstring_end # single quotes
describe on_tstring_beg on_tstring_content on_tstring_end do on_ignored_nl os on_op on_tstring_beg on_tstring_content on_tstring_end on_nl UNK on_period each do on_op testcase on_op on_ignored_nl # test shellescape Windows implementation directly
UNK UNK on_lparen string on_comma escaped on_rparen on_ignored_nl compare_string on_op string on_period to_s on_period UNK on_nl on_ignored_nl UNK on_const on_op # confirms that the escaped string that is generated actually # gets turned back into the source string by the actual shell. # abuses a `grep` (or `find`) error message because that should be cross platform
UNK on_tstring_beg on_tstring_content on_tstring_end on_nl on_const on_period UNK on_lparen UNK on_rparen do on_op UNK on_comma UNK on_comma UNK on_comma UNK # https://stackoverflow.com/a/18623297/252627, last variant
expect on_lparen UNK on_rparen on_period to eq on_lparen UNK on_rparen end on_nl end on_nl on_ignored_nl UNK UNK on_lparen string on_rparen # expect(error).to eq(expected_compare_error)
end on_nl end on_nl on_ignored_nl UNK UNK on_lparen string on_rparen on_ignored_nl regex on_op UNK on_tstring_content UNK on_nl UNK string on_period # match(/#{expected_compare_error}/)
UNK UNK on_lparen string on_rparen on_ignored_nl regex on_op UNK on_tstring_content UNK on_nl UNK string on_period to_s on_period UNK on_lparen regex # remove (double and single) quote pairs # un-double-double quote resulting string
string on_period to_s on_period UNK on_lparen on_tstring_beg on_tstring_content on_tstring_end on_comma on_tstring_beg on_tstring_content on_tstring_end on_rparen end on_nl UNK string on_nl end # get only part in quotes
end on_nl UNK string on_nl end on_nl on_ignored_nl UNK UNK on_lparen string on_rparen on_ignored_nl string on_period UNK on_lparen on_tstring_beg on_tstring_content # remove double double quotes
UNK UNK on_lparen string on_rparen on_ignored_nl string on_period UNK on_lparen on_tstring_beg on_tstring_content on_tstring_end on_comma on_tstring_beg on_tstring_end on_rparen on_nl regex on_op # remove all double quotes completely
end on_nl UNK string on_nl end on_nl on_ignored_nl describe on_tstring_beg on_tstring_content on_tstring_end do on_ignored_nl describe on_tstring_beg on_tstring_content on_tstring_end do on_ignored_nl # get only part in quotes
describe on_tstring_beg on_tstring_content on_tstring_end do on_ignored_nl describe on_tstring_beg on_tstring_content on_tstring_end do on_ignored_nl UNK on_lparen on_symbeg each on_rparen do on_ignored_nl UNK # test monkey patched method on both (simulated) OSes
on_ignored_nl UNK on_op on_lbracket on_ignored_nl on_lbrace on_ignored_nl on_tstring_beg on_tstring_content on_tstring_end on_op on_tstring_beg on_tstring_content on_tstring_end on_comma on_ignored_nl on_tstring_beg on_tstring_content on_tstring_end on_op # shelljoin # based on (reversal of) https://github.com/ruby/ruby/blob/trunk/spec/ruby/library/shellwords/shellwords_spec.rb
on_lbrace on_ignored_nl on_tstring_beg on_tstring_content on_tstring_end on_op on_tstring_beg on_tstring_content on_tstring_end on_comma on_ignored_nl on_tstring_beg on_tstring_content on_tstring_end on_op on_lbrace on_ignored_nl on_tstring_beg on_tstring_content on_tstring_end # https://github.com/ruby/ruby/blob/ac543abe91d7325ace7254f635f34e71e1faaf2e/test/test_shellwords.rb#L67-L68
expect on_lparen obj on_rparen on_period to receive on_lparen on_symbeg shellescape on_rparen on_period and_call_original on_nl expect on_lparen on_const on_rparen on_period to # String.shellescape => CrossplatformShellwords.shellescape => ...
expect on_lparen on_const on_rparen on_period to receive on_lparen on_symbeg shellescape on_rparen on_period UNK on_lparen obj on_rparen on_period and_call_original on_nl expect # WindowsShellwords.shellescape
expect on_lparen on_const on_rparen on_period to receive on_lparen on_symbeg UNK on_rparen on_period UNK on_lparen obj on_rparen on_period and_call_original on_nl expect # Shellswords.escape
expect on_lparen obj on_rparen on_period to receive on_lparen on_symbeg shelljoin on_rparen on_period and_call_original on_nl expect on_lparen on_const on_rparen on_period to # Array.shelljoin => CrossplatformShellwords.shelljoin => CrossplatformShellwords.shellescape ...
